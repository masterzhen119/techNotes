
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客">
      
      
      
        <meta name="author" content="weiya">
      
      
        <link rel="canonical" href="https://tech.hohoweiya.xyz/Linux/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.4">
    
    
      
        <title>General - techNotes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    

  
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-85007363-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


  <script data-ad-client="ca-pub-3680148472128768" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#linux-notes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="techNotes" class="md-header__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            techNotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              General
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/szcf-weiya/techNotes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Linux
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../comparisons/stat/" class="md-tabs__link">
        StatProgramming
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../Cpp/" class="md-tabs__link">
        CSProgramming
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../TeX/" class="md-tabs__link">
        DocProgramming
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Internet/" class="md-tabs__link">
        Network/Internet
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../autotools/" class="md-tabs__link">
        Development
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../stats/prob/" class="md-tabs__link">
        Stat
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../biology/samtools/" class="md-tabs__link">
        InvitedPosts
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../English/" class="md-tabs__link">
        Misc
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="techNotes" class="md-nav__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    techNotes
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/szcf-weiya/techNotes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Linux
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      <label class="md-nav__link" for="__nav_2_1">
        Laptop
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Laptop" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Laptop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          General
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        General
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#systemhardware-info" class="md-nav__link">
    System/Hardware Info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-user" class="md-nav__link">
    Add User
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#locale" class="md-nav__link">
    Locale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gnome" class="md-nav__link">
    GNOME
  </a>
  
    <nav class="md-nav" aria-label="GNOME">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gnome-shell" class="md-nav__link">
    GNOME Shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gnome-shell-extensions" class="md-nav__link">
    GNOME Shell Extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lunar-date" class="md-nav__link">
    Lunar Date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-monitor" class="md-nav__link">
    System Monitor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unblack-lock-screen" class="md-nav__link">
    unblack lock screen
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-win-on-ubuntu" class="md-nav__link">
    install win on ubuntu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-resolve-host" class="md-nav__link">
    unable to resolve host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shared-objects-so-dynamic-library" class="md-nav__link">
    shared objects .so (dynamic library)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#could-not-get-lock-varlibdpkglock-open" class="md-nav__link">
    could not get lock /var/lib/dpkg/lock -open
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcc" class="md-nav__link">
    gcc版本
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    Linux 杀进程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile-filezilla" class="md-nav__link">
    compile FileZilla
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    文件权限
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cairo" class="md-nav__link">
    cairo图形库环境搭建
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#circos" class="md-nav__link">
    circos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-vs-sys" class="md-nav__link">
    user vs. sys
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-android-phone-by-pcs-mouse-and-keyboard" class="md-nav__link">
    control android phone by PC's mouse and keyboard
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-load-native-hadoop-library-for-your-platform" class="md-nav__link">
    解决Unable to load native-hadoop library for your platform
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#font" class="md-nav__link">
    Font
  </a>
  
    <nav class="md-nav" aria-label="Font">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fc-list" class="md-nav__link">
    fc-list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-local-fonts" class="md-nav__link">
    Install Local Fonts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-free-fonts" class="md-nav__link">
    Some Free Fonts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nvidia-driver" class="md-nav__link">
    Nvidia Driver
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    命令最后的&amp;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crontab" class="md-nav__link">
    crontab定时任务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu-sftp" class="md-nav__link">
    ubuntu 连接 sftp 服务器
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    Ubuntu的回收站
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useful-commands" class="md-nav__link">
    useful commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-lock-the-administration-directory-varlibdpkg-is-another-process-using-it" class="md-nav__link">
    Unable to lock the administration directory (/var/lib/dpkg/) is another process using it?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mv-file-with-xargs" class="md-nav__link">
    mv file with xargs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-drive" class="md-nav__link">
    google drive
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bose-bluetooth" class="md-nav__link">
    Bose Bluetooth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gvim-fullscreen" class="md-nav__link">
    gvim fullscreen
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu-1604-create-wifi-hotpot" class="md-nav__link">
    Ubuntu 16.04 create WiFi Hotpot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#devloopx" class="md-nav__link">
    /dev/loopx
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    惊魂扩容
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    移动硬盘重命名
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-broken-link" class="md-nav__link">
    remove broken link
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrogen-specify-the-conda-envirnoment" class="md-nav__link">
    hydrogen specify the conda envirnoment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-long-character-usernames-which-consists-of" class="md-nav__link">
    show long character usernames which consists of +
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-pdf-metadata-via-pdftk" class="md-nav__link">
    modify pdf metadata via pdftk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    文本文件查看
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fuseblk" class="md-nav__link">
    fuseblk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    后台运行
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-cuda-version-shown-by-nvcc-and-nvidia-smi" class="md-nav__link">
    different CUDA version shown by nvcc and NVIDIA-smi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    共享打印机
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-for-apt" class="md-nav__link">
    proxy for apt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#netrc" class="md-nav__link">
    .netrc
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#possible-errors-using-apt-get" class="md-nav__link">
    possible errors using apt-get
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hotspot" class="md-nav__link">
    删除 Hotspot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssd" class="md-nav__link">
    移动 SSD 硬盘
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    自动充放电
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scp-a-file-with-name-including-colon" class="md-nav__link">
    scp a file with name including colon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-virtual-memeory-via-swapfile" class="md-nav__link">
    add virtual memeory via swapfile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpg-error" class="md-nav__link">
    GPG error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sftp-via-file-manager" class="md-nav__link">
    sftp via File Manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-the-software-searchable" class="md-nav__link">
    make the software searchable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-printer-for-my-laptop" class="md-nav__link">
    Set printer for my laptop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#md5" class="md-nav__link">
    MD5
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#you-have-new-mail" class="md-nav__link">
    You have new mail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#which-vs-type" class="md-nav__link">
    which vs type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    systemd
  </a>
  
    <nav class="md-nav" aria-label="systemd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-systemd-once-booted" class="md-nav__link">
    control systemd once booted
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-shortcut-to-switch-external-display-mode" class="md-nav__link">
    Custom Shortcut to Switch External Display Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-monitor_1" class="md-nav__link">
    System Monitor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-old-kernel-version" class="md-nav__link">
    use old kernel version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    默认软件
  </a>
  
    <nav class="md-nav" aria-label="默认软件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernel" class="md-nav__link">
    禁止 kernel 更新
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-history-of-other-ttypts" class="md-nav__link">
    Get history of other tty/pts?
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="software/" class="md-nav__link">
        Application Software
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tools/" class="md-nav__link">
        Command-line Tools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../shell/" class="md-nav__link">
        Shell Scripts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="16to18/" class="md-nav__link">
        16to18
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Servers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Servers" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Servers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="servers/" class="md-nav__link">
        General
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="chpc/" class="md-nav__link">
        CHPC-Cluster
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="rocky-server/" class="md-nav__link">
        Rocky-Linux
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="asAserver/" class="md-nav__link">
        G40
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        StatProgramming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="StatProgramming" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          StatProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comparisons/stat/" class="md-nav__link">
        Comparisons
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        R
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="R" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/plot/" class="md-nav__link">
        plot 作图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/ggplot/" class="md-nav__link">
        ggplot 作图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/legend_from_zhihu/" class="md-nav__link">
        案例分析
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/install-notes-for-rmysql/" class="md-nav__link">
        源码安装 RMySQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/sample/" class="md-nav__link">
        new sample function (v3.6.0+)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/factor/" class="md-nav__link">
        一道与 factor 有关的问题
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Python
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/pystan/" class="md-nav__link">
        PyStan 体验
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/opencv/" class="md-nav__link">
        OpenCV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/finance/" class="md-nav__link">
        金融数据爬虫
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/rpy2/" class="md-nav__link">
        rpy2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../python/esltag/" class="md-nav__link">
        自建关键词索引页
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../julia/" class="md-nav__link">
        Julia
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Matlab/" class="md-nav__link">
        Matlab
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        CSProgramming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CSProgramming" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CSProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      <label class="md-nav__link" for="__nav_4_1">
        C/C++
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="C/C++" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          C/C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Cpp/" class="md-nav__link">
        General
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Cpp/Qt/" class="md-nav__link">
        Qt
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../java/" class="md-nav__link">
        Java
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SQL/" class="md-nav__link">
        SQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cuda/" class="md-nav__link">
        Cuda
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        DocProgramming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="DocProgramming" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          DocProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" >
      
      <label class="md-nav__link" for="__nav_5_1">
        TeX
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="TeX" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          TeX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/arxiv/" class="md-nav__link">
        arXiv
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/vargreek/" class="md-nav__link">
        VarGreek
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      <label class="md-nav__link" for="__nav_5_2">
        Web
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Web" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Web
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/" class="md-nav__link">
        Website
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/disqus/" class="md-nav__link">
        Disqus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/css/" class="md-nav__link">
        CSS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../js/" class="md-nav__link">
        JS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../PHP/" class="md-nav__link">
        PHP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/xampp/" class="md-nav__link">
        XAMPP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Network/Internet
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Network/Internet" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Network/Internet
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/sci-int/" class="md-nav__link">
        访问内网
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/ipv6/" class="md-nav__link">
        IPv6
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../autotools/" class="md-nav__link">
        Autotools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../dev/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../phantomjs/" class="md-nav__link">
        Phantomjs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Stat
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Stat" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Stat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stats/prob/" class="md-nav__link">
        Probability
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stats/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../scientific/" class="md-nav__link">
        Scientific
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stats/matrix/" class="md-nav__link">
        Matrix
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        InvitedPosts
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="InvitedPosts" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          InvitedPosts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../biology/samtools/" class="md-nav__link">
        Samtools
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        Misc
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Misc" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../English/" class="md-nav__link">
        English
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guitar/" class="md-nav__link">
        Guitar
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../win/" class="md-nav__link">
        Windows
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../finance/" class="md-nav__link">
        Finance
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../fresh/" class="md-nav__link">
        Fresh
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../links/" class="md-nav__link">
        Links
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/live/" class="md-nav__link">
        Live
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/wx/" class="md-nav__link">
        小程序
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/wxjssdk/" class="md-nav__link">
        jssdk
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/report/" class="md-nav__link">
        讲座
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mi/" class="md-nav__link">
        Mi
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/terms/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#systemhardware-info" class="md-nav__link">
    System/Hardware Info
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-user" class="md-nav__link">
    Add User
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#locale" class="md-nav__link">
    Locale
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gnome" class="md-nav__link">
    GNOME
  </a>
  
    <nav class="md-nav" aria-label="GNOME">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gnome-shell" class="md-nav__link">
    GNOME Shell
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gnome-shell-extensions" class="md-nav__link">
    GNOME Shell Extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lunar-date" class="md-nav__link">
    Lunar Date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-monitor" class="md-nav__link">
    System Monitor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unblack-lock-screen" class="md-nav__link">
    unblack lock screen
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-win-on-ubuntu" class="md-nav__link">
    install win on ubuntu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-resolve-host" class="md-nav__link">
    unable to resolve host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shared-objects-so-dynamic-library" class="md-nav__link">
    shared objects .so (dynamic library)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#could-not-get-lock-varlibdpkglock-open" class="md-nav__link">
    could not get lock /var/lib/dpkg/lock -open
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gcc" class="md-nav__link">
    gcc版本
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    Linux 杀进程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile-filezilla" class="md-nav__link">
    compile FileZilla
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    文件权限
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cairo" class="md-nav__link">
    cairo图形库环境搭建
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#circos" class="md-nav__link">
    circos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-vs-sys" class="md-nav__link">
    user vs. sys
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-android-phone-by-pcs-mouse-and-keyboard" class="md-nav__link">
    control android phone by PC's mouse and keyboard
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-load-native-hadoop-library-for-your-platform" class="md-nav__link">
    解决Unable to load native-hadoop library for your platform
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#font" class="md-nav__link">
    Font
  </a>
  
    <nav class="md-nav" aria-label="Font">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fc-list" class="md-nav__link">
    fc-list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-local-fonts" class="md-nav__link">
    Install Local Fonts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-free-fonts" class="md-nav__link">
    Some Free Fonts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nvidia-driver" class="md-nav__link">
    Nvidia Driver
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    命令最后的&amp;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crontab" class="md-nav__link">
    crontab定时任务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu-sftp" class="md-nav__link">
    ubuntu 连接 sftp 服务器
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    Ubuntu的回收站
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useful-commands" class="md-nav__link">
    useful commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-lock-the-administration-directory-varlibdpkg-is-another-process-using-it" class="md-nav__link">
    Unable to lock the administration directory (/var/lib/dpkg/) is another process using it?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mv-file-with-xargs" class="md-nav__link">
    mv file with xargs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-drive" class="md-nav__link">
    google drive
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bose-bluetooth" class="md-nav__link">
    Bose Bluetooth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gvim-fullscreen" class="md-nav__link">
    gvim fullscreen
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ubuntu-1604-create-wifi-hotpot" class="md-nav__link">
    Ubuntu 16.04 create WiFi Hotpot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#devloopx" class="md-nav__link">
    /dev/loopx
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    惊魂扩容
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    移动硬盘重命名
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-broken-link" class="md-nav__link">
    remove broken link
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrogen-specify-the-conda-envirnoment" class="md-nav__link">
    hydrogen specify the conda envirnoment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-long-character-usernames-which-consists-of" class="md-nav__link">
    show long character usernames which consists of +
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modify-pdf-metadata-via-pdftk" class="md-nav__link">
    modify pdf metadata via pdftk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    文本文件查看
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fuseblk" class="md-nav__link">
    fuseblk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    后台运行
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-cuda-version-shown-by-nvcc-and-nvidia-smi" class="md-nav__link">
    different CUDA version shown by nvcc and NVIDIA-smi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    共享打印机
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proxy-for-apt" class="md-nav__link">
    proxy for apt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#netrc" class="md-nav__link">
    .netrc
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#possible-errors-using-apt-get" class="md-nav__link">
    possible errors using apt-get
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hotspot" class="md-nav__link">
    删除 Hotspot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssd" class="md-nav__link">
    移动 SSD 硬盘
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    自动充放电
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scp-a-file-with-name-including-colon" class="md-nav__link">
    scp a file with name including colon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-virtual-memeory-via-swapfile" class="md-nav__link">
    add virtual memeory via swapfile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpg-error" class="md-nav__link">
    GPG error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sftp-via-file-manager" class="md-nav__link">
    sftp via File Manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-the-software-searchable" class="md-nav__link">
    make the software searchable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-printer-for-my-laptop" class="md-nav__link">
    Set printer for my laptop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#md5" class="md-nav__link">
    MD5
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#you-have-new-mail" class="md-nav__link">
    You have new mail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#which-vs-type" class="md-nav__link">
    which vs type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    systemd
  </a>
  
    <nav class="md-nav" aria-label="systemd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-systemd-once-booted" class="md-nav__link">
    control systemd once booted
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-shortcut-to-switch-external-display-mode" class="md-nav__link">
    Custom Shortcut to Switch External Display Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-monitor_1" class="md-nav__link">
    System Monitor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-old-kernel-version" class="md-nav__link">
    use old kernel version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    默认软件
  </a>
  
    <nav class="md-nav" aria-label="默认软件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernel" class="md-nav__link">
    禁止 kernel 更新
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-history-of-other-ttypts" class="md-nav__link">
    Get history of other tty/pts?
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/szcf-weiya/techNotes/edit/master/docs/Linux/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="linux-notes">Linux Notes<a class="headerlink" href="#linux-notes" title="Permanent link">&para;</a></h1>
<h2 id="systemhardware-info">System/Hardware Info<a class="headerlink" href="#systemhardware-info" title="Permanent link">&para;</a></h2>
<ul>
<li>check linux distribution (refer to <a href="https://www.cyberciti.biz/faq/find-linux-distribution-name-version-number/">How To Find Out My Linux Distribution Name and Version</a>)<ul>
<li><code>cat /etc/os-release</code> or <code>cat /ect/*-release</code></li>
<li><code>lsb_release -a</code></li>
<li><code>hostnamectl</code></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Linux Distributions</p>
<p>根据包管理器进行的分类，主流的发行版有</p>
<ul>
<li>apt: Debian, Ubuntu, Linux Mint</li>
<li>yum: CentOS, Fedora</li>
<li>YaST: openSUSE</li>
<li>Pacman: Manjaro、ArchLinux</li>
</ul>
<p>另外，根据这道 <a href="../shell/#logical-operation">Shell 练习题</a>，</p>
<ul>
<li>Redhat Series: Fedora, Gentoo, Redhat</li>
<li>Suse Series: Suse, OpenSuse</li>
<li>Debian Series: Ubuntu, Mint, Debian</li>
</ul>
<p>参考 </p>
<ul>
<li><a href="https://distrowatch.com/dwres.php?resource=major">Major Distributions: An overview of major Linux distributions and FreeBSD</a></li>
<li><a href="https://www.zhihu.com/question/24261540">知乎：Linux 各大发行版有什么特色？</a></li>
</ul>
<p>目前只接触 Ubuntu（个人笔记本） 和 CentOS, Rocky（服务器），所以本笔记主要针对这两种。</p>
</div>
<ul>
<li>check kernel version:<ul>
<li><code>uname -a</code> or <code>uname -mrs</code></li>
<li><code>cat /proc/version</code></li>
</ul>
</li>
<li>how long has the system been running (refer to <a href="https://unix.stackexchange.com/questions/131775/how-long-has-my-linux-system-been-running">How long has my Linux system been running?</a>):<ul>
<li><code>last reboot</code></li>
<li><code>uptime --since</code>, which is actually the first line of <code>top</code></li>
</ul>
</li>
<li>obtain <a href="https://help.ubuntu.com/stable/ubuntu-help/net-macaddress.html">MAC address <img alt="🔗" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f517.svg" title=":link:" /></a>: <code>ifconfig | grep ether</code>, note that different MAC addresses for WIFI and Ethernet.</li>
<li>check number of cores (refer to <a href="https://unix.stackexchange.com/questions/218074/how-to-know-number-of-cores-of-a-system-in-linux">How to know number of cores of a system in Linux?</a>):<ul>
<li>quick way: <code>nproc --all</code></li>
<li>more details: <code>lscpu | grep -E '^Thread|^Core|^Socket|^CPU\('</code></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">CPU vs Thread vs Core vs Socket</p>
<ul>
<li>CPU: Central Processing Unit。概念比较宽泛，不同语境有不同含义，如 <code>lscpu</code> 便指 thread 个数。<code>CPUs</code> = <code>Threads per core</code> * <code>cores per socket</code> * <code>sockets</code></li>
<li>CPU Socket: CPU 是通过一个插槽安装在主板上的，这个插槽就是 Socket;</li>
<li>Core: 一个 CPU 中可以有多个 core，各个 core 之间相互独立，且可以执行并行逻辑，每个 core 都有单独的寄存器，L1, L2 缓存等物理硬件。</li>
<li>Thread: 并不是物理概念，而是软件概念，本质上是利用 CPU 空闲时间来执行其他代码，所以其只能算是并发，而不是并行。</li>
<li>vCPU: 常见于虚拟核，也就是 Thread</li>
</ul>
<p><div class="highlight"><pre><span></span><code>G40 $ lscpu <span class="p">|</span> grep -E <span class="s1">&#39;^Thread|^Core|^Socket|^CPU\(&#39;</span>
CPU<span class="o">(</span>s<span class="o">)</span>:                          <span class="m">4</span>
Thread<span class="o">(</span>s<span class="o">)</span> per core:              <span class="m">2</span>
Core<span class="o">(</span>s<span class="o">)</span> per socket:              <span class="m">2</span>
Socket<span class="o">(</span>s<span class="o">)</span>:                       <span class="m">1</span>
</code></pre></div>
表明其为 2 核 4 线程。</p>
<p><div class="highlight"><pre><span></span><code>T460P $ $ lscpu <span class="p">|</span> grep -E <span class="s1">&#39;^Thread|^Core|^Socket|^CPU\(&#39;</span>
CPU<span class="o">(</span>s<span class="o">)</span>:              <span class="m">4</span>
Thread<span class="o">(</span>s<span class="o">)</span> per core:  <span class="m">1</span>
Core<span class="o">(</span>s<span class="o">)</span> per socket:  <span class="m">4</span>
Socket<span class="o">(</span>s<span class="o">)</span>:           <span class="m">1</span>
</code></pre></div>
表明其为 4 核 4 线程。</p>
<p>参考 <a href="https://cloud.tencent.com/developer/article/1736628">三分钟速览cpu,socket,core,thread等术语之间的关系</a></p>
</div>
<ul>
<li>check last logged users: <code>last</code>, but the user field only shows 8 characters. To check the full name, use <code>last -w</code> instead. Refer to <a href="https://serverfault.com/questions/343740/last-loggedin-users-in-linux-showing-8-characters-only">last loggedin users in linux showing 8 characters only - Server Fault</a></li>
</ul>
<h2 id="add-user">Add User<a class="headerlink" href="#add-user" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$ useradd -m -s /bin/bash userName
$ passwd userName
</code></pre></div>
<p>Or explicitly specify the password with</p>
<div class="highlight"><pre><span></span><code>useradd -p <span class="k">$(</span>openssl passwd -1 <span class="s2">&quot;PASSWORD&quot;</span><span class="k">)</span> -m userName
</code></pre></div>
<p>where <code>-1</code> means to use the MD5 based BSD password algorithm 1, see <code>man openssl-passwd</code> for more details.</p>
<p>Create users in batch mode,</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> i <span class="k">in</span> <span class="o">{</span><span class="m">01</span>..14<span class="o">}</span><span class="p">;</span> <span class="k">do</span> useradd -p <span class="k">$(</span>openssl passwd -1 <span class="s2">&quot;PASSWORD\$&quot;</span><span class="k">)</span> -m <span class="s2">&quot;project</span><span class="nv">$i</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div>
<p>where symbol <code>$</code> (if any) needs to be escaped by <code>\</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As <code>man useradd</code> notes,</p>
<blockquote>
<p><code>-p</code> option is not recommended because the password (or encrypted password) will be visible by users listing the processes.</p>
</blockquote>
</div>
<p>增加 sudo 权限</p>
<div class="highlight"><pre><span></span><code>$ sudoedit /etc/sudoers
</code></pre></div>
<div class="highlight"><pre><span></span><code># Allow members of group sudo to execute any command
%sudo   ALL=(ALL:ALL) ALL
<span class="gi">+weiya ALL=(ALL) NOPASSWD:ALL</span>
<span class="gi">+szcf715 ALL=(ALL) ALL</span>
</code></pre></div>
<p>其中 <code>NOPASSWD</code> 表示用户 <code>weiya</code> 在使用 <code>sudo</code> 时无需输入密码，而 <code>szcf715</code> 则需要输入密码才能使用 <code>sudo</code>.</p>
<p><code>man sudoers</code> 给了一些具体的设置例子，搜索 <code>example sudoers</code>.</p>
<p>参考 <a href="http://blog.csdn.net/linuxdriverdeveloper/article/details/7427672">https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-16-04</a></p>
<h2 id="locale">Locale<a class="headerlink" href="#locale" title="Permanent link">&para;</a></h2>
<blockquote>
<p>区域设置（locale），也称作“本地化策略集”、“本地环境”，是表达程序用户地区方面的软件设定。不同系统、平台、与软件有不同的区域设置处理方式和不同的设置范围，但是一般区域设置最少也会包括语言和地区。区域设置的内容包括：数据格式、货币金额格式、小数点符号、千分位符号、度量衡单位、通货符号、日期写法、日历类型、文字排序、姓名格式、地址等等。
source: <a href="https://zh.wikipedia.org/wiki/%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE">维基百科</a></p>
</blockquote>
<p>locale 生效的顺序为</p>
<ol>
<li><code>LANGUAGE</code>：指定个人对语言环境值的主次偏好，在 Ubuntu 中有这个环境变量，但似乎在 CentOS7.4 服务器上没有这个变量</li>
<li><code>LC_ALL</code>: 这不是一个环境变量，是一个可被C语言库函数setlocale设置的宏，其值可覆盖所有其他的locale设定。因此缺省时此值为空</li>
<li><code>LC_xxx</code>: 可设定locale各方面（category）的值，可以覆盖 <code>LANG</code> 的值。</li>
<li><code>LANG</code>: 指定默认使用的locale值</li>
</ol>
<p>如若设置不当，可能会出现</p>
<div class="highlight"><pre><span></span><code>$ locale
locale: Cannot <span class="nb">set</span> LC_CTYPE to default locale: No such file or directory
locale: Cannot <span class="nb">set</span> LC_MESSAGES to default locale: No such file or directory
locale: Cannot <span class="nb">set</span> LC_ALL to default locale: No such file or directory
<span class="nv">LANG</span><span class="o">=</span>C.UTF-8
<span class="nv">LC_CTYPE</span><span class="o">=</span>C.UTF-8
<span class="nv">LC_NUMERIC</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_TIME</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_COLLATE</span><span class="o">=</span><span class="s2">&quot;C.UTF-8&quot;</span>
<span class="nv">LC_MONETARY</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_MESSAGES</span><span class="o">=</span><span class="s2">&quot;C.UTF-8&quot;</span>
<span class="nv">LC_PAPER</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_NAME</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_ADDRESS</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_TELEPHONE</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_MEASUREMENT</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_IDENTIFICATION</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_ALL</span><span class="o">=</span>
</code></pre></div>
<p>则可以通过</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>en_US.UTF-8
</code></pre></div>
<p>来解决这个问题，这个可以写进 <code>.bashrc</code> 文件中，并且不需要 sudo 权限，而 <a href="https://askubuntu.com/questions/162391/how-do-i-fix-my-locale-issue">How do I fix my locale issue?</a> 中提到的几种方法需要 sudo 权限。</p>
<h2 id="gnome">GNOME<a class="headerlink" href="#gnome" title="Permanent link">&para;</a></h2>
<p>GNOME (originally an acronym for GNU Network Object Model Environment) is a desktop environment for Unix-like operating systems. <a href="https://en.wikipedia.org/wiki/GNOME"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.97 18.95-2.56-6.03c-1.02 1.99-2.14 4.08-3.1 6.03-.01.01-.47 0-.47 0C7.37 15.5 5.85 12.1 4.37 8.68 4.03 7.84 2.83 6.5 2 6.5v-.45h5.06v.45c-.6 0-1.62.4-1.36 1.05.72 1.54 3.24 7.51 3.93 9.03.47-.94 1.8-3.42 2.37-4.47-.45-.88-1.87-4.18-2.29-5-.32-.54-1.13-.61-1.75-.61 0-.15.01-.25 0-.44l4.46.01v.4c-.61.03-1.18.24-.92.82.6 1.24.95 2.13 1.5 3.28.17-.34 1.07-2.19 1.5-3.16.26-.65-.13-.91-1.21-.91.01-.12.01-.33.01-.43 1.39-.01 3.48-.01 3.85-.02v.42c-.71.03-1.44.41-1.82.99L13.5 11.3c.18.51 1.96 4.46 2.15 4.9l3.85-8.83c-.3-.72-1.16-.87-1.5-.87v-.45l4 .03V6.5c-.88 0-1.43.5-1.75 1.25-.8 1.79-3.25 7.49-4.85 11.2h-.43z"/></svg></span></a></p>
<p>The version on my T460p is 3.28.2, which can be seen from About.</p>
<h3 id="gnome-shell">GNOME Shell<a class="headerlink" href="#gnome-shell" title="Permanent link">&para;</a></h3>
<p>GNOME Shell is the graphical shell of the GNOME desktop environment. It provides basic functions like launching applications, switching between windows and is also a widget engine. <a href="https://en.wikipedia.org/wiki/GNOME_Shell"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.97 18.95-2.56-6.03c-1.02 1.99-2.14 4.08-3.1 6.03-.01.01-.47 0-.47 0C7.37 15.5 5.85 12.1 4.37 8.68 4.03 7.84 2.83 6.5 2 6.5v-.45h5.06v.45c-.6 0-1.62.4-1.36 1.05.72 1.54 3.24 7.51 3.93 9.03.47-.94 1.8-3.42 2.37-4.47-.45-.88-1.87-4.18-2.29-5-.32-.54-1.13-.61-1.75-.61 0-.15.01-.25 0-.44l4.46.01v.4c-.61.03-1.18.24-.92.82.6 1.24.95 2.13 1.5 3.28.17-.34 1.07-2.19 1.5-3.16.26-.65-.13-.91-1.21-.91.01-.12.01-.33.01-.43 1.39-.01 3.48-.01 3.85-.02v.42c-.71.03-1.44.41-1.82.99L13.5 11.3c.18.51 1.96 4.46 2.15 4.9l3.85-8.83c-.3-.72-1.16-.87-1.5-.87v-.45l4 .03V6.5c-.88 0-1.43.5-1.75 1.25-.8 1.79-3.25 7.49-4.85 11.2h-.43z"/></svg></span></a>. User interface elements provided by GNOME Shell include the Panel at the top of the screen, the Activities Overview, and Message Tray at the bottom of the screen. <a href="https://extensions.gnome.org/about/"><img alt="🔗" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f517.svg" title=":link:" /></a></p>
<p>The version on my T460p is </p>
<div class="highlight"><pre><span></span><code>$ gnome-shell --version
GNOME Shell <span class="m">3</span>.28.4
</code></pre></div>
<h3 id="gnome-shell-extensions">GNOME Shell Extensions<a class="headerlink" href="#gnome-shell-extensions" title="Permanent link">&para;</a></h3>
<p><a href="https://extensions.gnome.org/about/">GNOME Shell Extensions</a> are small pieces of code written by third party developers that modify the way GNOME works. They are similar to Chrome Extensions or Firefox Addons. We can install the extensions via <a href="https://extensions.gnome.org/">extensions.gnome.org</a> in Firefox. After installation, we can disable or enable, or even configure on such website, alternatively, we can use <code>gnome-tweaks</code> to control them.</p>
<h3 id="lunar-date">Lunar Date<a class="headerlink" href="#lunar-date" title="Permanent link">&para;</a></h3>
<p>Here is a plugin to show Chinese Lunar Date: <a href="https://extensions.gnome.org/extension/675/lunar-calendar/">Lunar Calendar 农历</a>. Since here are some latest comments, I guess it would be OK.</p>
<p>However, the first installation attempt failed, it shows <code>ERROR</code>. Then I realized that I might need to install the dependency mentioned in the plugin page,</p>
<div class="highlight"><pre><span></span><code>sudo apt install gir1.2-lunar-date-2.0
</code></pre></div>
<p>Then reinstall the plugin, it succeed! But interestingly, the Chinese characters are shown as Pinyin (see the following left image)</p>
<table>
<thead>
<tr>
<th>Before</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="Screenshot from 2021-05-03 14-04-34" src="https://user-images.githubusercontent.com/13688320/116846751-a65ae000-ac1b-11eb-9c40-31ba384f63db.png" /></td>
<td><img alt="Screenshot from 2021-05-03 14-40-47" src="https://user-images.githubusercontent.com/13688320/116847724-b2e03800-ac1d-11eb-9700-bccb1a4e25f2.png" /></td>
</tr>
</tbody>
</table>
<p>Then I found the same issue in <a href="https://forum.ubuntu.org.cn/viewtopic.php?t=308968">an older post</a></p>
<p>A solution is </p>
<div class="highlight"><pre><span></span><code>@GuanGGuanG
copy
/usr/share/locale/zh_CN/LC_MESSAGES/liblunar.mo
to
/usr/share/locale/en/LC_MESSAGES/
就可以在英文环境下正常显示了
</code></pre></div>
<p>Although no found <code>liblunar.mo</code>, there is </p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">pwd</span>
/usr/share/locale/zh_CN/LC_MESSAGES
$ ll <span class="p">|</span> grep lunar
-rw-r--r-- <span class="m">1</span> root root   <span class="m">4746</span> Nov <span class="m">12</span>  <span class="m">2016</span> lunar-date.mo
</code></pre></div>
<p>then</p>
<div class="highlight"><pre><span></span><code>$ sudo cp lunar-date.mo ../../en/LC_MESSAGES/
</code></pre></div>
<p>It cannot take effects immediately, the natural way is to reboot. But currently I do not want to reboot, and then I tried to reinstall the plugin in Firefox, but not work.</p>
<p>Then I tried to reload locale since the modification seems related to locale, so I found <a href="https://unix.stackexchange.com/questions/108514/reload-etc-default-locale-without-reboot">this answer</a> and tried</p>
<div class="highlight"><pre><span></span><code>$ . /etc/default/locale
</code></pre></div>
<p>but not work.</p>
<p>Then I realized that it might be necessary to reload GNOME Shell, so I found <a href="https://askubuntu.com/questions/100226/how-to-restart-gnome-shell-from-command-line">How to restart GNOME Shell from command line?</a>, and tried</p>
<div class="highlight"><pre><span></span><code>$ gnome-shell --replace <span class="p">&amp;</span>
</code></pre></div>
<p>It works, as shown in the above right figure. A minor side change is that the English colon in the time <code>14:37</code> seems to change to the Chinese colon.</p>
<h3 id="system-monitor">System Monitor<a class="headerlink" href="#system-monitor" title="Permanent link">&para;</a></h3>
<p>通过 gnome-shell extension: <a href="https://github.com/paradoxxxzero/gnome-shell-system-monitor-applet">gnome-shell-system-monitor-applet</a> 实现</p>
<p>不过目前有个小问题，字体略小，尝试通过 gnome-tweaks 中的 scaling 来改变字体大小，但似乎对这些字体仍不适用，先将就用着吧。</p>
<h3 id="unblack-lock-screen">unblack lock screen<a class="headerlink" href="#unblack-lock-screen" title="Permanent link">&para;</a></h3>
<p>按 <code>Win+L</code> 锁屏后，很快就直接变黑了。因为感觉屏保还挺好看的，所以并不想直接黑屏。参考 <a href="https://www.zhihu.com/question/276118015/answer/656464977">GNOME3锁屏和锁屏后，如何设置屏幕常亮？ - Eglinux的回答 - 知乎</a>，安装 <a href="https://extensions.gnome.org/extension/1414/unblank/">Unblank lock screen.</a></p>
<p>更简单的技巧是长按 <code>Win+L</code>，似乎确实不会直接黑屏，然后会直接采用设置的关屏时间（Setting &gt; Power），参考 <a href="https://www.zhihu.com/question/276118015/answer/496472138">GNOME3锁屏和锁屏后，如何设置屏幕常亮？ - dale的回答 - 知乎</a>。</p>
<h2 id="install-win-on-ubuntu">install win on ubuntu<a class="headerlink" href="#install-win-on-ubuntu" title="Permanent link">&para;</a></h2>
<p>参考<a href="http://www.linuxdeveloper.space/install-windows-after-linux/">http://www.linuxdeveloper.space/install-windows-after-linux/</a></p>
<h2 id="unable-to-resolve-host">unable to resolve host<a class="headerlink" href="#unable-to-resolve-host" title="Permanent link">&para;</a></h2>
<p>参考<a href="http://blog.csdn.net/ichuzhen/article/details/8241847">http://blog.csdn.net/ichuzhen/article/details/8241847</a></p>
<h2 id="shared-objects-so-dynamic-library">shared objects <code>.so</code> (dynamic library)<a class="headerlink" href="#shared-objects-so-dynamic-library" title="Permanent link">&para;</a></h2>
<p>As said in <a href="https://unix.stackexchange.com/questions/22926/where-do-executables-look-for-shared-objects-at-runtime">Where do executables look for shared objects at runtime?</a>, when it&rsquo;s looking for a dynamic library (<code>.so</code> file) the linker tries</p>
<ul>
<li>directories listed in the <code>LD_LIBRARY_PATH</code></li>
<li>directories listed in the executable&rsquo;s rpath, such as via <code>$ORIGIN/../lib</code></li>
<li>directories on the system search path, which consists of the entries in <code>/etc/ld.so.conf</code> plus <code>/lib</code> and <code>/usr/lib</code></li>
</ul>
<p>Then there are several ways to fix the NotFound error,</p>
<div class="highlight"><pre><span></span><code><span class="c1"># method 1</span>
sudo ln -s /where/your/lib/*.so /usr/lib
sudo ldconfig
<span class="c1"># method 2</span>
<span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/where/your/lib:<span class="nv">$LD_LIBRARY_PATH</span><span class="sb">`</span>
sudo ldconfig
<span class="c1"># method 3</span>
sudo <span class="nb">echo</span> <span class="s2">&quot;where/your/lib&quot;</span> &gt;&gt; /etc/ld.so.conf
sudo ldconfig
</code></pre></div>
<h2 id="could-not-get-lock-varlibdpkglock-open">could not get lock /var/lib/dpkg/lock -open<a class="headerlink" href="#could-not-get-lock-varlibdpkglock-open" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>sudo rm /var/cache/apt/archives/lock
sudo rm /var/lib/dpkg/lock
</code></pre></div>
<p>如果不行，重启。</p>
<h2 id="gcc">gcc版本<a class="headerlink" href="#gcc" title="Permanent link">&para;</a></h2>
<p>可以通过 <code>update-alternatives</code> 进行切换，但注意要提前安装 <code>install</code> alternatives，这里的 install 不是下载源码安装，而是将系统中已有的不同版本的 gcc 安装到 alternatives 中。比如当前我电脑的 gcc &ndash;version 是 7.5.0，但是仍有 <code>gcc-5</code>, <code>gcc-4.8</code> 等命令，不过这些并不在 alternatives 中，因为如果直接运行</p>
<div class="highlight"><pre><span></span><code>$ sudo update-alternatives --config gcc
update-alternatives: error: no alternatives <span class="k">for</span> gcc
</code></pre></div>
<p>所以可以按照 <a href="https://codeyarns.github.io/tech/2015-02-26-how-to-switch-gcc-version-using-update-alternatives.html">How to switch GCC version using update-alternatives</a> 先</p>
<div class="highlight"><pre><span></span><code>sudo update-alternatives --install ....
</code></pre></div>
<p>然后再 config.</p>
<h2 id="linux">Linux 杀进程<a class="headerlink" href="#linux" title="Permanent link">&para;</a></h2>
<p>参考<a href="http://blog.csdn.net/andy572633/article/details/7211546">linux下杀死进程（kill）的N种方法</a></p>
<div class="highlight"><pre><span></span><code>ps -ef <span class="p">|</span> grep R
<span class="nb">kill</span> -s <span class="m">9</span> ...
</code></pre></div>
<p>其中 <code>ps -ef</code> 输出格式为</p>
<div class="highlight"><pre><span></span><code>$ ps -ef <span class="p">|</span> head -2
UID        PID  PPID  C STIME TTY          TIME CMD
root         <span class="m">1</span>     <span class="m">0</span>  <span class="m">0</span> <span class="m">09</span>:15 ?        <span class="m">00</span>:00:44 /sbin/init splash
</code></pre></div>
<p>每一列的含义可以在 <code>man ps</code> 中的 <code>STANDARD FORMAT SPECIFIERS</code> 小节中找到，具体地，</p>
<ul>
<li><code>UID</code>: same with EUID, effective user ID (alias uid).</li>
<li><code>PID</code>: a number representing the process ID (alias tgid).</li>
<li><code>PPID</code>: parent process ID.</li>
<li><code>C</code>: processor utilization. Currently, this is the integer value of the percent usage over the lifetime of the process.  (see %cpu).</li>
<li><code>STIME</code>: same with <code>START</code>, starting time or date of the process.  Only the year will be displayed if the process was not started the same year ps was invoked, or &ldquo;MmmDD&rdquo; if it was not started the same day, or &ldquo;HH:MM&rdquo; otherwise.  See also bsdstart, start, lstart, and stime.</li>
<li><code>TTY</code>: controlling tty (terminal).  (alias tt, tty).</li>
<li><code>TIME</code>: cumulative CPU time, &ldquo;[DD-]HH:MM:SS&rdquo; format.  (alias cputime).</li>
<li><code>CMD</code>: see args.  (alias args, command). when the arguments to that command cannot be located, 会被中括号 <code>[]</code> 包起来</li>
</ul>
<h2 id="compile-filezilla">compile FileZilla<a class="headerlink" href="#compile-filezilla" title="Permanent link">&para;</a></h2>
<p>refer to <a href="https://wiki.filezilla-project.org/Client_Compile">Client Compile</a></p>
<p>download latest libfilezilla from <a href="https://lib.filezilla-project.org/download.php">https://lib.filezilla-project.org/download.php</a></p>
<p>add wxWidget&rsquo;s repository according to <a href="http://codelite.org/LiteEditor/WxWidgets31Binaries#toc2">http://codelite.org/LiteEditor/WxWidgets31Binaries#toc2</a></p>
<p>pay attention to the version, NOT 3.1.0.</p>
<p><a href="http://codelite.org/LiteEditor/WxWidgets30Binaries">http://codelite.org/LiteEditor/WxWidgets30Binaries</a></p>
<p>require libgnutls 3.4.15 or greater, download from  <a href="https://gnutls.org/">https://gnutls.org/</a></p>
<p>require sqlite3.h
<div class="highlight"><pre><span></span><code>sudo apt-get install libsqlite3-dev
</code></pre></div></p>
<h2 id="_1">文件权限<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>采用<code>ls -l</code> 便可以查看文件(夹)权限，比如</p>
<p><div class="highlight"><pre><span></span><code>-rw-rw-r--  <span class="m">1</span> weiya weiya    <span class="m">137969</span> 3月   <span class="m">8</span>  <span class="m">2017</span> font.txt
-rw-r--r--  <span class="m">1</span> root  root      <span class="m">35792</span> 12月 <span class="m">26</span> <span class="m">23</span>:50 geckodriver.log
-rw-r--r--  <span class="m">1</span> root  root     <span class="m">327350</span> 12月 <span class="m">27</span> <span class="m">01</span>:38 ghostdriver.log
</code></pre></div>
7列的含义分别是（参考<a href="http://blog.csdn.net/jenminzhang/article/details/9816853">http://blog.csdn.net/jenminzhang/article/details/9816853</a>）</p>
<ol>
<li>文件类型和文件权限
  - 文件类型由第一个字母表示，常见的有 <code>d</code>(目录)，<code>-</code>(文件)，<code>l</code>(链接)
  - 权限分为三段，每三个字符一段，分别表示，文件所有者 <code>u</code>、文件所属组 <code>g</code>、其他用户 <code>o</code>对该文件的权限，其中<ul>
<li><code>r</code>: 可读，等于 4</li>
<li><code>w</code>: 可写，等于 2</li>
<li><code>x</code>: 可执行，等于 1</li>
<li><code>-</code>: 无权限，等于 0</li>
<li><code>s</code>: set user or group ID on execution (s)</li>
<li><code>X</code>: execute/search only if the file  is a directory or already has  execute permission for some user</li>
<li><code>t</code>: restricted deletion flag or sticky bit</li>
</ul>
</li>
<li>文件链接个数</li>
<li>文件所有者</li>
<li>文件所在群组</li>
<li>文件长度</li>
<li>时间</li>
<li>文件名称</li>
</ol>
<p>采用chmod修改权限（参考<a href="http://www.linuxidc.com/Linux/2015-03/114695.htm">http://www.linuxidc.com/Linux/2015-03/114695.htm</a>），如</p>
<div class="highlight"><pre><span></span><code>chmod -R <span class="m">700</span> Document/
chmod -R <span class="o">[</span>ugoa...<span class="o">][[</span>+-<span class="o">=][</span>perms...<span class="o">]]</span> <span class="c1"># refer to `man chmod` for more details</span>
</code></pre></div>
<p>其中 <code>-R</code> 表示递归，<code>perms</code> 为上述 <code>rwxXst</code>，而 <code>a</code> 表示所有用户，即 <code>ugo</code>.</p>
<p>采用 chown 改变所有者，比如</p>
<div class="highlight"><pre><span></span><code>chown -R username:users Document/
</code></pre></div>
<p><code>chmod g+s .</code> 会使得当前文件夹 <code>.</code> 中所有新建文件或文件夹都继承 <code>.</code> 的 group，而不是创建者所属的 group，所以这一般配合 <code>chgrp</code> 使用。参考 <a href="https://unix.stackexchange.com/questions/182212/chmod-gs-command">&lsquo;chmod g+s&rsquo; command</a></p>
<h2 id="cairo">cairo图形库环境搭建<a class="headerlink" href="#cairo" title="Permanent link">&para;</a></h2>
<p>参考<a href="http://blog.csdn.net/zh19921107/article/details/45094759">ubuntu Cairo图形库 环境搭建</a></p>
<h2 id="circos">circos<a class="headerlink" href="#circos" title="Permanent link">&para;</a></h2>
<p>介绍见<a href="http://circos.ca/software/download/tutorials/">DOWNLOAD CIRCOS, TUTORIALS AND TOOLS</a></p>
<p><a href="https://gist.github.com/dyndna/18bb71494e021f672510">Install circos on ubuntu 14.04 LTS</a></p>
<h2 id="user-vs-sys"><code>user</code> vs. <code>sys</code><a class="headerlink" href="#user-vs-sys" title="Permanent link">&para;</a></h2>
<ul>
<li><code>time</code> commands return three times, named <code>real</code>, <code>user</code> and <code>sys</code>, the detailed explanation refers to <a href="https://stackoverflow.com/questions/556405/what-do-real-user-and-sys-mean-in-the-output-of-time1">What do &lsquo;real&rsquo;, &lsquo;user&rsquo; and &lsquo;sys&rsquo; mean in the output of time(1)?</a></li>
<li><code>user space</code> vs <code>kernel space</code>: <a href="https://zh.wikipedia.org/wiki/%E4%BD%BF%E7%94%A8%E8%80%85%E7%A9%BA%E9%96%93">维基百科</a>说，在操作系统中，虚拟内存通常会被分成用户空间（英语：User space，又译为使用者空间），与核心空间（英语：Kernel space，又译为内核空间）这两个区段。</li>
</ul>
<h2 id="control-android-phone-by-pcs-mouse-and-keyboard">control android phone by PC&rsquo;s mouse and keyboard<a class="headerlink" href="#control-android-phone-by-pcs-mouse-and-keyboard" title="Permanent link">&para;</a></h2>
<p><a href="https://www.makeuseof.com/tag/control-android-using-computers-mouse-keyboard/">How to Control Your Android Using Your Computer’s Mouse and Keyboard</a></p>
<h2 id="unable-to-load-native-hadoop-library-for-your-platform">解决Unable to load native-hadoop library for your platform<a class="headerlink" href="#unable-to-load-native-hadoop-library-for-your-platform" title="Permanent link">&para;</a></h2>
<p>参考<a href="http://blog.csdn.net/succeedloveaaaa/article/details/48596857">解决Unable to load native-hadoop library for your platform</a></p>
<h2 id="font">Font<a class="headerlink" href="#font" title="Permanent link">&para;</a></h2>
<h3 id="fc-list"><code>fc-list</code><a class="headerlink" href="#fc-list" title="Permanent link">&para;</a></h3>
<p>view installed fonts</p>
<div class="highlight"><pre><span></span><code><span class="c1"># only print the font-family</span>
$ fc-list : family
<span class="c1"># add language selector</span>
$ fc-list : family <span class="nv">lang</span><span class="o">=</span>zh
...
Fira Sans,Fira Sans UltraLight
Fira Sans,Fira Sans Light
Noto Serif CJK KR,Noto Serif CJK KR ExtraLight
<span class="c1"># with format option, get the family names of all the fonts (note that the above family also specify the detailed style)</span>
$ fc-list --format<span class="o">=</span><span class="s1">&#39;%{family[0]}\n&#39;</span> :lang<span class="o">=</span>zh <span class="p">|</span> sort <span class="p">|</span> uniq
...
文泉驿等宽微米黑
文泉驿等宽正黑
新宋体
</code></pre></div>
<p>refer to <a href="https://www.geeksforgeeks.org/fc-list-command-in-linux-with-examples/">fc-list command in Linux with examples</a></p>
<h3 id="install-local-fonts">Install Local Fonts<a class="headerlink" href="#install-local-fonts" title="Permanent link">&para;</a></h3>
<p>以安装仿宋和黑体为例，这是<a href="https://hohoweiya.xyz/zju-thesis/src/zju-thesis.pdf">本科毕业论文模板</a>所需要的字体，字体文件已打包</p>
<div class="highlight"><pre><span></span><code>$ wget -c https://sourceforge.net/projects/zjuthesis/files/fonts.tar.gz/download -O fonts.tar.gz
$ tar xvzf fonts.tar.gz
fonts/STFANGSO.TTF
fonts/
fonts/simhei.ttf
$ sudo mkdir -p /usr/share/fonts/truetype/custom/
$ sudo mv fonts/* /usr/share/fonts/truetype/custom/
$ sudo fc-cache -f -v
</code></pre></div>
<p>安装完成后，</p>
<div class="highlight"><pre><span></span><code>$ fc-list :lang<span class="o">=</span>zh
/usr/share/fonts/truetype/custom/simhei.ttf: SimHei,黑体:style<span class="o">=</span>Regular,Normal,obyčejné,Standard,Κανονικά,Normaali,Normál,Normale,Standaard,Normalny,Обычный,Normálne,Navadno,Arrunta
/usr/share/fonts/truetype/custom/STFANGSO.TTF: STFangsong,华文仿宋:style<span class="o">=</span>Regular
</code></pre></div>
<h3 id="some-free-fonts">Some Free Fonts<a class="headerlink" href="#some-free-fonts" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/mozilla/Fira">Mozilla&rsquo;s Fira Type Family</a><ul>
<li><a href="https://github.com/matze/mtheme/issues/280">Fira for Metropolis theme</a></li>
<li><a href="https://github.com/tonsky/FiraCode">Fira Code</a><ul>
<li><a href="https://zhuanlan.zhihu.com/p/65362086">知乎：Fira Code —— 专为编程而生的字体</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="nvidia-driver">Nvidia Driver<a class="headerlink" href="#nvidia-driver" title="Permanent link">&para;</a></h2>
<p>Install via the GUI <code>Software &amp; Updates</code>. If succeed, then</p>
<div class="highlight"><pre><span></span><code>$ nvidia-smi
</code></pre></div>
<p>can display the GPU memory usage, together with the versions of driver and CUDA,</p>
<div class="highlight"><pre><span></span><code>$ nvidia-smi 
Mon Aug  <span class="m">2</span> <span class="m">22</span>:08:19 <span class="m">2021</span>       
+-----------------------------------------------------------------------------+
<span class="p">|</span> NVIDIA-SMI <span class="m">460</span>.91.03    Driver Version: <span class="m">460</span>.91.03    CUDA Version: <span class="m">11</span>.2     <span class="p">|</span>
<span class="p">|</span>-------------------------------+----------------------+----------------------+
<span class="p">|</span> GPU  Name        Persistence-M<span class="p">|</span> Bus-Id        Disp.A <span class="p">|</span> Volatile Uncorr. ECC <span class="p">|</span>
<span class="p">|</span> Fan  Temp  Perf  Pwr:Usage/Cap<span class="p">|</span>         Memory-Usage <span class="p">|</span> GPU-Util  Compute M. <span class="p">|</span>
<span class="p">|</span>                               <span class="p">|</span>                      <span class="p">|</span>               MIG M. <span class="p">|</span>
<span class="p">|</span><span class="o">===============================</span>+<span class="o">======================</span>+<span class="o">======================</span><span class="p">|</span>
<span class="p">|</span>   <span class="m">0</span>  GeForce 940MX       Off  <span class="p">|</span> <span class="m">00000000</span>:02:00.0 Off <span class="p">|</span>                  N/A <span class="p">|</span>
<span class="p">|</span> N/A   63C    P0    N/A /  N/A <span class="p">|</span>    724MiB /  2004MiB <span class="p">|</span>      <span class="m">9</span>%      Default <span class="p">|</span>
<span class="p">|</span>                               <span class="p">|</span>                      <span class="p">|</span>                  N/A <span class="p">|</span>
+-------------------------------+----------------------+----------------------+

+-----------------------------------------------------------------------------+
<span class="p">|</span> Processes:                                                                  <span class="p">|</span>
<span class="p">|</span>  GPU   GI   CI        PID   Type   Process name                  GPU Memory <span class="p">|</span>
<span class="p">|</span>        ID   ID                                                   Usage      <span class="p">|</span>
<span class="p">|</span><span class="o">=============================================================================</span><span class="p">|</span>
<span class="p">|</span>    <span class="m">0</span>   N/A  N/A       <span class="m">400</span>      G   WeChatWeb.exe                       9MiB <span class="p">|</span>
<span class="p">|</span>    <span class="m">0</span>   N/A  N/A       <span class="m">663</span>      G   ...cent<span class="se">\W</span>eChat<span class="se">\W</span>eChatApp.exe        7MiB <span class="p">|</span>
<span class="p">|</span>    <span class="m">0</span>   N/A  N/A      <span class="m">4454</span>      G   ...AAAAAAAAA<span class="o">=</span> --shared-files       59MiB <span class="p">|</span>
<span class="p">|</span>    <span class="m">0</span>   N/A  N/A      <span class="m">7440</span>      G   /usr/lib/xorg/Xorg                437MiB <span class="p">|</span>
</code></pre></div>
<p>refer to <a href="https://blog.csdn.net/wf19930209/article/details/81877822">Linux安装NVIDIA显卡驱动的正确姿势</a> for other approaches (seems more technical).</p>
<h2 id="_2">命令最后的&amp;<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>参考<a href="https://stackoverflow.com/questions/13338870/what-does-at-the-end-of-a-linux-command-mean">What does “&amp;” at the end of a linux command mean?</a></p>
<p>表示在后台运行。</p>
<h2 id="crontab">crontab定时任务<a class="headerlink" href="#crontab" title="Permanent link">&para;</a></h2>
<p><code>* */1 * * * *</code> 表现为每分钟执行，但是本来第 1 列应当为分钟，而第 2 列为小时，这样使用对用法理解错误，而且改成 <code>* * */1 * * *</code> 仍然表现为每分钟。试图</p>
<div class="highlight"><pre><span></span><code>sudo service cron restart
<span class="c1"># or</span>
sudo service cron reload
</code></pre></div>
<p>都失败了。所以还是理解出现了偏差，</p>
<p>参考<a href="https://www.cnblogs.com/zoulongbin/p/6187238.html">Linux 设置定时任务crontab命令</a> 和 <a href="https://www.jianshu.com/p/d93e2b177814">关于定时执行任务：Crontab的20个例子</a></p>
<h2 id="ubuntu-sftp">ubuntu 连接 sftp 服务器<a class="headerlink" href="#ubuntu-sftp" title="Permanent link">&para;</a></h2>
<p>参考<a href="https://askubuntu.com/questions/349873/use-connect-to-server-to-connect-to-sftp">Use “Connect to Server” to connect to SFTP</a></p>
<h2 id="ubuntu">Ubuntu的回收站<a class="headerlink" href="#ubuntu" title="Permanent link">&para;</a></h2>
<p>参考 <a href="https://blog.csdn.net/DSLZTX/article/details/46685959">https://blog.csdn.net/DSLZTX/article/details/46685959</a></p>
<h2 id="useful-commands">useful commands<a class="headerlink" href="#useful-commands" title="Permanent link">&para;</a></h2>
<ol>
<li><code>cd "$(dirname "$0")"</code>: <a href="https://stackoverflow.com/questions/3349105/how-to-set-current-working-directory-to-the-directory-of-the-script">cd current directory</a></li>
<li><code>mkdir -p</code>: <a href="https://stackoverflow.com/questions/793858/how-to-mkdir-only-if-a-dir-does-not-already-exist">mkdir only if a dir does not already exist?</a></li>
</ol>
<h2 id="unable-to-lock-the-administration-directory-varlibdpkg-is-another-process-using-it">Unable to lock the administration directory (/var/lib/dpkg/) is another process using it?<a class="headerlink" href="#unable-to-lock-the-administration-directory-varlibdpkg-is-another-process-using-it" title="Permanent link">&para;</a></h2>
<p><a href="https://askubuntu.com/questions/15433/unable-to-lock-the-administration-directory-var-lib-dpkg-is-another-process">Unable to lock the administration directory (/var/lib/dpkg/) is another process using it?</a></p>
<h2 id="mv-file-with-xargs">mv file with xargs<a class="headerlink" href="#mv-file-with-xargs" title="Permanent link">&para;</a></h2>
<p>use <code>-I {}</code> to replace some str.</p>
<div class="highlight"><pre><span></span><code>ls <span class="p">|</span> grep <span class="s1">&#39;config[0-9].txt&#39;</span> <span class="p">|</span> xargs -I <span class="o">{}</span> mv <span class="o">{}</span> configs/
</code></pre></div>
<p>see more details in <a href="https://askubuntu.com/questions/487035/mv-files-with-xargs">mv files with | xargs</a></p>
<p>see also: <a href="http://man.linuxde.net/xargs">xargs命令_Linux xargs 命令用法详解：给其他命令传递参数的一个过滤器</a></p>
<h2 id="google-drive">google drive<a class="headerlink" href="#google-drive" title="Permanent link">&para;</a></h2>
<p>refer to <a href="https://askubuntu.com/questions/838956/ubuntu-16-04-set-up-with-google-online-account-but-no-drive-folder-in-nautilus">Ubuntu 16.04 set up with google online account but no drive folder in nautilus</a></p>
<p>Note that you should run</p>
<div class="highlight"><pre><span></span><code>gnome-control-center online-accounts
</code></pre></div>
<p>in the command line, not to open the GUI.</p>
<h2 id="bose-bluetooth">Bose Bluetooth<a class="headerlink" href="#bose-bluetooth" title="Permanent link">&para;</a></h2>
<p><a href="https://askubuntu.com/questions/833322/pair-bose-quietcomfort-35-with-ubuntu-over-bluetooth">Pair Bose QuietComfort 35 with Ubuntu over Bluetooth</a></p>
<h2 id="gvim-fullscreen">gvim fullscreen<a class="headerlink" href="#gvim-fullscreen" title="Permanent link">&para;</a></h2>
<p>refer to <a href="https://askubuntu.com/questions/2140/is-there-a-way-to-turn-gvim-into-fullscreen-mode">Is there a way to turn gvim into fullscreen mode?</a></p>
<p>In short,</p>
<ol>
<li>install wmctrl</li>
<li>map F11 via .vimrc</li>
</ol>
<h2 id="ubuntu-1604-create-wifi-hotpot">Ubuntu 16.04 create WiFi Hotpot<a class="headerlink" href="#ubuntu-1604-create-wifi-hotpot" title="Permanent link">&para;</a></h2>
<p>Refer to</p>
<ol>
<li><a href="http://ubuntuhandbook.org/index.php/2014/09/3-ways-create-wifi-hotspot-ubuntu/">3 Ways to Create Wifi Hotspot in Ubuntu 14.04 (Android Support)</a></li>
<li><a href="https://askubuntu.com/questions/318973/how-do-i-create-a-wifi-hotspot-sharing-wireless-internet-connection-single-adap">How do I create a WiFi hotspot sharing wireless internet connection (single adapter)?</a></li>
</ol>
<p>几处不同：</p>
<ol>
<li>选择 <code>mode</code> 时，直接选择 <code>hotpot</code> 即可，后面也无需更改文件</li>
<li>设置密码时位数不能少于 8 位</li>
<li>连接 WiFi 时 似乎需要 enable wifi。</li>
</ol>
<h2 id="devloopx"><code>/dev/loopx</code><a class="headerlink" href="#devloopx" title="Permanent link">&para;</a></h2>
<p>refer to <a href="https://askubuntu.com/questions/906581/what-is-dev-loopx">What is /dev/loopx?</a>.</p>
<h2 id="_3">惊魂扩容<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>一直想扩容来着，但总是下不了决心。今天决定了，参考 google 搜索“Ubuntu 扩容”的前几条结果，便开始干了。</p>
<ol>
<li>采用启动 U 盘，因为根目录在使用状态，幸好启动 U 盘还在。</li>
<li>使用 Gparted 时有个大大的 warning，说对含 /boot 分区的硬盘进行操作可能会不能正常启动，有点吓到了，最后还是狠下心继续下去了。</li>
<li>网上有人说，不要用 Gparted 对 Windows 进行压缩，而应该在 Windows 中进行压缩，可是此时已经开始了，想中断但怕造成更严重的后果，幸好最后启动 Windows 时只是多了步检查硬盘，并没有不能启动的状况。</li>
</ol>
<p>中间提心吊胆，好在最后顺利扩容完成。</p>
<h2 id="_4">移动硬盘重命名<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>终端输入</p>
<div class="highlight"><pre><span></span><code>gnome-disks
</code></pre></div>
<p>在设置齿轮图标中选择 <code>Edit Mount Options</code>，修改 <code>Mount Point</code>。注意重新挂载后才能生效。</p>
<p>详见<a href="https://askubuntu.com/questions/904561/how-to-change-hard-drive-name/904564">How to change hard drive name</a></p>
<h2 id="remove-broken-link">remove broken link<a class="headerlink" href="#remove-broken-link" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>find -L . -name . -o -type d -prune -o -type l -exec rm <span class="o">{}</span> +
</code></pre></div>
<p><a href="https://stackoverflow.com/questions/22097130/delete-all-broken-symbolic-links-with-a-line">Delete all broken symbolic links with a line?</a></p>
<h2 id="hydrogen-specify-the-conda-envirnoment">hydrogen specify the conda envirnoment<a class="headerlink" href="#hydrogen-specify-the-conda-envirnoment" title="Permanent link">&para;</a></h2>
<p>just need to run</p>
<div class="highlight"><pre><span></span><code>source activate thisenv
python -m ipykernel install --user --name thisenv
</code></pre></div>
<p>and only once, hydrogen will remember this!!</p>
<p>ref to <a href="https://github.com/nteract/hydrogen/issues/899">How to specify the conda environment in which hydrogen (jupyter) starts?</a></p>
<h2 id="show-long-character-usernames-which-consists-of">show long character usernames which consists of <code>+</code><a class="headerlink" href="#show-long-character-usernames-which-consists-of" title="Permanent link">&para;</a></h2>
<p>refer to <a href="https://askubuntu.com/questions/523673/ps-aux-for-long-charactered-usernames-shows-a-plus-sign">ps aux for long charactered usernames shows a plus sign</a></p>
<div class="highlight"><pre><span></span><code>ps axo user:20,pid,pcpu,pmem,vsz,rss,tty,stat,start,time,comm
alias psaux=&#39;ps axo user:20,pid,pcpu,pmem,vsz,rss,tty,stat,start,time,comm&#39;
</code></pre></div>
<h2 id="modify-pdf-metadata-via-pdftk">modify pdf metadata via <code>pdftk</code><a class="headerlink" href="#modify-pdf-metadata-via-pdftk" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>pdftk input.pdf dump_data output metadata
<span class="c1"># edit metadata</span>
pdftk input.pdf update_info metadata output output.pdf
</code></pre></div>
<h2 id="_5">文本文件查看<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p><code>cut</code>: select by columns</p>
<p>参考 <a href="https://opensource.com/article/17/2/command-line-tools-data-analysis-linux">10 command-line tools for data analysis in Linux</a></p>
<h2 id="fuseblk">fuseblk<a class="headerlink" href="#fuseblk" title="Permanent link">&para;</a></h2>
<p>发现使用 onedrive 同步文件时，有时候并不能够同步。猜测可能是因为文件太小，比如文件夹 <code>test</code> 中仅有 <code>test.md</code> 文件（仅70B），而此时查看 <code>test</code> 大小，竟然为 0 B，因为根据常识，一般文件夹都是 4.0k，或者有时 8.0k 等等，具体原因参考 <a href="https://askubuntu.com/questions/186813/why-does-every-directory-have-a-size-4096-bytes-4-k">Why does every directory have a size 4096 bytes (4 K)?</a></p>
<p>但我现在问题是文件夹竟然是 0B，猜测这是无法同步的原因。</p>
<p>后来在上述问题的回答的评论中 @Ruslan 提到</p>
<blockquote>
<p>@phyloflash some filesystems (e.g. NTFS) store small files in the file entries themselves (for NTFS it&rsquo;s in the MFT entry). This way their contents occupy zero allocation blocks, and internal fragmentation is reduced. – Ruslan Nov 2 at 9:03</p>
</blockquote>
<p>猜测这是文件系统的原因，因为此时文件夹刚好位于移动硬盘中，所以可能刚好发生了所谓的 “internal fragmentation is reduced”。</p>
<p>于是准备查看移动硬盘的 file system 来验证我的想法，这可以通过 <code>df -Th</code> 实现，具体参考 <a href="https://www.tecmint.com/find-linux-filesystem-type/">7 Ways to Determine the File System Type in Linux (Ext2, Ext3 or Ext4)</a></p>
<p>然后竟然发现并不是期望中的 NTFS，而是 fuseblk，<a href="http://blog.sina.com.cn/s/blog_7d553bb501012z3l.html">東海陳光劍的博客</a>中解释道</p>
<blockquote>
<p>fuse是一个用户空间实现的文件系统。内核不认识。fuseblk应该就是使用fuse的block设备吧，系统中临时的非超级用户的设备挂载好像用的就是这个。</p>
</blockquote>
<p>最后发现，onedrive 无法同步的原因可能并不是因为 0 byte 的文件夹，而是因为下面的命名规范，虽然不是需要同步的文件，而是之前很久的文件，但可能onedrive就在之前这个不规范命名的文件上崩溃了。</p>
<h2 id="_6">后台运行<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<ul>
<li><code>jobs -l</code> 返回后台运行程序的 <code>PID</code>，refer to <a href="https://stackoverflow.com/questions/1908610/how-to-get-pid-of-background-process">How to get PID of background process?</a></li>
</ul>
<p>但是 <code>jobs</code> <a href="https://superuser.com/a/607219">只显示属于当前 shell 的后台程序</a>, 如果重新登录，则不会显示后台程序，详见 <a href="https://superuser.com/questions/607218/jobs-command-doesnt-show-any-background-processes"><code>jobs</code> command doesn&rsquo;t show any background processes</a></p>
<h2 id="different-cuda-version-shown-by-nvcc-and-nvidia-smi">different CUDA version shown by nvcc and NVIDIA-smi<a class="headerlink" href="#different-cuda-version-shown-by-nvcc-and-nvidia-smi" title="Permanent link">&para;</a></h2>
<p>refer to <a href="https://stackoverflow.com/questions/53422407/different-cuda-versions-shown-by-nvcc-and-nvidia-smi">Different CUDA versions shown by nvcc and NVIDIA-smi</a></p>
<blockquote>
<p>CUDA has 2 primary APIs, the runtime and the driver API. Both have a corresponding version</p>
<ul>
<li>The necessary support for the driver API (e.g. libcuda.so on linux) is installed by the GPU driver installer.</li>
<li>The necessary support for the runtime API (e.g. libcudart.so on linux, and also nvcc) is installed by the CUDA toolkit installer (which may also have a GPU driver installer bundled in it).</li>
</ul>
</blockquote>
<p><code>nvidia-smi</code>: installed by the GPU driver installer, and generally has the GPU driver in view, not anything installed by the CUDA toolkit installer.
<code>nvcc</code>: the CUDA compiler-driver tool that is installed with the CUDA toolkit, will always report the CUDA runtime version that it was built to recognize.</p>
<h2 id="_7">共享打印机<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>现有台 HP-Deskjet-1050-J410-series 打印机，通过 USB 接口。直接连接在 Ubuntu 上是可以实现打印功能的，现在想贡献给局域网内的其他设备，参考 <a href="https://www.jianshu.com/p/a1c4fc6d9ce8">使用Linux共享打印机</a>，主要步骤为</p>
<ol>
<li>安装 CUPS 服务，<code>sudo apt-get install cups</code> 并启动，<code>sudo service cups start</code></li>
<li>在 <code>127.0.0.1:631</code> 的 <code>Administration &gt;&gt; Advanced</code> 勾选 <code>Allow printing from the Internet</code>，并保存。</li>
<li>打开防火墙，<code>sudo ufw allow 631/tcp</code></li>
</ol>
<p>在同一局域网内的 Windows 设备中，添加该打印机，地址即为Ubuntu中浏览器的地址，注意将 <code>127.0.0.1</code> 换成局域网 ip。如果顺利的话，添加后需要添加驱动程序，可以在 HP 官网下载。</p>
<h2 id="proxy-for-apt">proxy for apt<a class="headerlink" href="#proxy-for-apt" title="Permanent link">&para;</a></h2>
<p><code>proxychains</code> seems not work well before <code>sudo</code> or after <code>sudo</code>, and I dont want to add a system proxy permanently, then I found a temporary way,</p>
<div class="highlight"><pre><span></span><code>sudo <span class="nv">http_proxy</span><span class="o">=</span><span class="s1">&#39;http://user:pass@proxy.example.com:8080/&#39;</span> apt-get install package-name
</code></pre></div>
<p>refer to <a href="https://askubuntu.com/questions/89437/how-to-install-packages-with-apt-get-on-a-system-connected-via-proxy">how to install packages with apt-get on a system connected via proxy?</a></p>
<h2 id="netrc">.netrc<a class="headerlink" href="#netrc" title="Permanent link">&para;</a></h2>
<p>为了学习 RL，在听了周博磊在 B 站的视频后，准备玩下<a href="https://github.com/cuhkrlcourse/RLexample">示例代码</a>，但是在终端中创建新 conda 环境时，</p>
<div class="highlight"><pre><span></span><code>conda create --name RL <span class="nv">python</span><span class="o">=</span><span class="m">3</span>
</code></pre></div>
<p>总是报错，</p>
<blockquote>
<p>Collecting package metadata (current_repodata.json): failed</p>
<p>ProxyError: Conda cannot proceed due to an error in your proxy configuration.
Check for typos and other configuration errors in any &lsquo;.netrc&rsquo; file in your home directory,
any environment variables ending in &lsquo;_PROXY&rsquo;, and any other system-wide proxy
configuration settings.</p>
</blockquote>
<p>其中提到一个 <code>.netrc</code>，没想到自己竟然还真的有这个文件，看了下内容，只有两条，</p>
<div class="highlight"><pre><span></span><code>machine api.heroku.com
...
machine git.heroku.com
...
</code></pre></div>
<p>这才意识到很早无意识中折腾 heroku 时创建的。那这个文件是干嘛的呢，<a href="https://stackoverflow.com/questions/21828495/purpose-of-the-netrc-file">查了一下发现</a></p>
<blockquote>
<p>This is a file that is often used by Unix programs to hold access details for remote sites. It was originally created for use with FTP.</p>
</blockquote>
<p>最后这个问题是直接把 .bashrc 中所有的代理去掉了.</p>
<h2 id="possible-errors-using-apt-get">possible errors using <code>apt-get</code><a class="headerlink" href="#possible-errors-using-apt-get" title="Permanent link">&para;</a></h2>
<p><a href="https://askubuntu.com/questions/140246/how-do-i-resolve-unmet-dependencies-after-adding-a-ppa">How do I resolve unmet dependencies after adding a PPA?</a></p>
<h2 id="hotspot">删除 Hotspot<a class="headerlink" href="#hotspot" title="Permanent link">&para;</a></h2>
<p>升级到 Ubuntu 18.04 后，开机自动连接到 Hotspot，每次需要手动禁止并改成 Wifi 连接，这个可以直接删除保存好的 Hotspot 连接</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> /etc/NetworkManager/system-connections/
sudo rm Hotspot
</code></pre></div>
<p>参考 <a href="https://askubuntu.com/questions/120415/how-to-remove-access-point-from-saved-list/120447">How to remove access point from saved list</a></p>
<h2 id="ssd">移动 SSD 硬盘<a class="headerlink" href="#ssd" title="Permanent link">&para;</a></h2>
<p>因为硬盘太小，而移动硬盘读写文件速度实在有点慢，然后看到有<a href="https://zhuanlan.zhihu.com/p/61083491">移动 SSD 硬盘</a>，于是便入手了一个。</p>
<p>当然首先确定了，自己笔记本有 USB3.0 接口，虽然不是 USB3.1。（不过好像 USB3.0 也叫作 USB3.1 gen1，而真正的 USB3.1 叫做 USB3.1 gen2），这个可以通过</p>
<div class="highlight"><pre><span></span><code>$ lsusb -t
</code></pre></div>
<p>来看<a href="https://superuser.com/questions/781398/how-can-i-be-sure-that-ive-plugged-a-device-into-a-usb-3-port">接口的情况</a>，当然也直接搜了电脑型号来看具体配置、</p>
<p>货到手后，一开始插上时，说</p>
<blockquote>
<p>Mount error: unknown filesystem type ‘exfat’</p>
</blockquote>
<p>本来以为需要什么格式转化之类的，后来发现<a href="https://better-coding.com/solved-mount-error-unknown-filesystem-type-exfat/#:~:text=Cause%20Some%20SD%20Cards%20and,%2Dfuse%20and%20exfat%2Dutils.">解决方案</a>挺简单的，</p>
<div class="highlight"><pre><span></span><code>sudo apt-get install exfat-fuse exfat-utils
</code></pre></div>
<p>但是后来发现这个格式很多地方会出现不兼容，比如</p>
<ol>
<li>解压某个文件时，报出 <code>Cannot set modif./access times</code>，而这个在正常磁盘以及已有的移动硬盘中都能正常解压</li>
<li>不能创建带有 <code>:</code> 的文件夹，这应该是遵循 Windows 的标准，但是 Linux 命名标准没有遵循 Windows，所以造成有些文件复制不过去。</li>
</ol>
<p>最后决定格式化为 Linux 磁盘的格式，这个其实也挺简单的，进入 <code>gnome-disks</code>，先 umount，然后选择格式化，这时直接选择格式化为 Linux 的 Ext4，有一篇<a href="https://hkgoldenmra.blogspot.com/2019/12/linux-luks-ext4.html">图文介绍</a>，不过没看时就已经自己操作了，只是让自己心安一下。</p>
<p>然后测试了一下读取速度，</p>
<div class="highlight"><pre><span></span><code>~$ sudo hdparm -Tt /dev/sdc1

/dev/sdc1:
 Timing cached reads:   <span class="m">22298</span> MB <span class="k">in</span>  <span class="m">1</span>.99 <span class="nv">seconds</span> <span class="o">=</span> <span class="m">11228</span>.47 MB/sec
 Timing buffered disk reads: <span class="m">120</span> MB <span class="k">in</span>  <span class="m">3</span>.01 <span class="nv">seconds</span> <span class="o">=</span>  <span class="m">39</span>.89 MB/sec

~$ sudo hdparm -Tt /dev/sde1

/dev/sde1:
 Timing cached reads:   <span class="m">24390</span> MB <span class="k">in</span>  <span class="m">1</span>.99 <span class="nv">seconds</span> <span class="o">=</span> <span class="m">12281</span>.26 MB/sec
 Timing buffered disk reads: <span class="m">1318</span> MB <span class="k">in</span>  <span class="m">3</span>.00 <span class="nv">seconds</span> <span class="o">=</span> <span class="m">439</span>.04 MB/sec
</code></pre></div>
<p>上面是普通的移动硬盘，底下是新买的移动 SSD 硬盘，差异还是很明显的。继续测试写入的速度，</p>
<div class="highlight"><pre><span></span><code>~$ <span class="nb">time</span> dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/media/weiya/Extreme<span class="se">\ </span>SSD/tempfile <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">1024</span>
<span class="m">1024</span>+0 records <span class="k">in</span>
<span class="m">1024</span>+0 records out
<span class="m">1073741824</span> bytes <span class="o">(</span><span class="m">1</span>.1 GB, <span class="m">1</span>.0 GiB<span class="o">)</span> copied, <span class="m">2</span>.11846 s, <span class="m">507</span> MB/s

real    0m2.131s
user    0m0.011s
sys 0m0.543s
~$ <span class="nb">time</span> dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/media/weiya/Seagate/tempfile <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">1024</span>
<span class="m">1024</span>+0 records <span class="k">in</span>
<span class="m">1024</span>+0 records out
<span class="m">1073741824</span> bytes <span class="o">(</span><span class="m">1</span>.1 GB, <span class="m">1</span>.0 GiB<span class="o">)</span> copied, <span class="m">12</span>.4132 s, <span class="m">86</span>.5 MB/s

real    0m12.746s
user    0m0.000s
sys 0m1.551s
</code></pre></div>
<p>以及写出的速度，</p>
<div class="highlight"><pre><span></span><code>~$ <span class="nb">time</span> dd <span class="k">if</span><span class="o">=</span>/media/weiya/Extreme<span class="se">\ </span>SSD/tempfile <span class="nv">of</span><span class="o">=</span>/dev/null <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">1024</span>
<span class="m">1024</span>+0 records <span class="k">in</span>
<span class="m">1024</span>+0 records out
<span class="m">1073741824</span> bytes <span class="o">(</span><span class="m">1</span>.1 GB, <span class="m">1</span>.0 GiB<span class="o">)</span> copied, <span class="m">4</span>.01399 s, <span class="m">268</span> MB/s

real    0m4.018s
user    0m0.000s
sys 0m0.442s
~$ <span class="nb">time</span> dd <span class="k">if</span><span class="o">=</span>/media/weiya/Seagate/tempfile <span class="nv">of</span><span class="o">=</span>/dev/null <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">1024</span>
<span class="m">1024</span>+0 records <span class="k">in</span>
<span class="m">1024</span>+0 records out
<span class="m">1073741824</span> bytes <span class="o">(</span><span class="m">1</span>.1 GB, <span class="m">1</span>.0 GiB<span class="o">)</span> copied, <span class="m">65</span>.6471 s, <span class="m">16</span>.4 MB/s

real    1m5.981s
user    0m0.010s
sys 0m0.650s
</code></pre></div>
<p>移动 SSD 硬盘完胜普通的移动硬盘。</p>
<p>参考链接：</p>
<ul>
<li><a href="http://einverne.github.io/post/2019/10/test-disk-write-and-read-speed-in-linux.html">在 Linux 上测试硬盘读写速度</a></li>
</ul>
<h2 id="_8">自动充放电<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>虽然一直知道插上电源充电会损耗电池容量，但是没想到竟然会损耗得那么严重，对于我正在使用的 ThinkPadT460P 来说，</p>
<div class="highlight"><pre><span></span><code>~$ upower -i <span class="sb">`</span>upower -e <span class="p">|</span> grep <span class="s1">&#39;BAT&#39;</span><span class="sb">`</span>
  native-path:          BAT0
  vendor:               SANYO
  model:                45N1767
  serial:               <span class="m">3701</span>
  power supply:         yes
  updated:              Tue <span class="m">01</span> Sep <span class="m">2020</span> <span class="m">10</span>:15:52 AM CST <span class="o">(</span><span class="m">106</span> seconds ago<span class="o">)</span>
  has history:          yes
  has statistics:       yes
  battery
    present:             yes
    rechargeable:        yes
    state:               fully-charged
    warning-level:       none
    energy:              <span class="m">19</span>.42 Wh
    energy-empty:        <span class="m">0</span> Wh
    energy-full:         <span class="m">19</span>.58 Wh
    energy-full-design:  <span class="m">47</span>.52 Wh
    energy-rate:         <span class="m">0</span> W
    voltage:             <span class="m">12</span>.025 V
    percentage:          <span class="m">99</span>%
    capacity:            <span class="m">41</span>.2037%
    technology:          lithium-ion
    icon-name:          <span class="s1">&#39;battery-full-charged-symbolic&#39;</span>
</code></pre></div>
<p>现在的容量只有 41.2037%，一半都不到。心血来潮搜了下看看有没有什么软件能够支持自动充放电，竟然还真有，而且特别支持 ThinkPad 系列, <a href="https://askubuntu.com/questions/34452/how-can-i-limit-battery-charging-to-80-capacity">How can I limit battery charging to 80% capacity?</a></p>
<p>不过刚开始按照回答中的解决方案操作，最后 <code>sudo modprobe tp_smapi</code> 并不成功，大概是说没有这个 kernel 吧。不过因为这个回答挺早的，在评论中顺藤摸瓜找到针对更新版的 ThinkPad 的解决方案，<a href="https://linrunner.de/tlp/installation/ubuntu.html">tlp for Ubuntu</a></p>
<div class="highlight"><pre><span></span><code>sudo add-apt-repository ppa:linrunner/tlp
sudo apt update
sudo apt install acpi-call-dkms tp-smapi-dkms
</code></pre></div>
<p>其中特别指出 <code>acpi-call-dkms</code> 用于 ThinkPads (X220/T420 and later)</p>
<p>然后查看</p>
<div class="highlight"><pre><span></span><code>~$ sudo tlp-stat -b
--- TLP <span class="m">1</span>.3.1 --------------------------------------------

+++ Battery Features: Charge Thresholds and Recalibrate
<span class="nv">natacpi</span>    <span class="o">=</span> inactive <span class="o">(</span>no kernel support<span class="o">)</span>
tpacpi-bat <span class="o">=</span> active <span class="o">(</span>thresholds, recalibrate<span class="o">)</span>
tp-smapi   <span class="o">=</span> inactive <span class="o">(</span>ThinkPad not supported<span class="o">)</span>
</code></pre></div>
<p>这时候按照 <a href="https://linrunner.de/tlp/settings/battery.html">Battery Charge Thresholds</a> 修改 <code>/etc/tlp.conf</code>，并运行</p>
<div class="highlight"><pre><span></span><code>sudo tlp start
</code></pre></div>
<p>但是似乎并没有起作用，仍然在充电，尝试拔了电源线来使之生效，但好像还是不行。总共有<a href="https://linrunner.de/tlp/settings/introduction.html#making-changes">三种生效方式</a>，另外一种为重启。</p>
<p>猜测可能的原因是</p>
<blockquote>
<p>natacpi    = inactive (no kernel support)</p>
</blockquote>
<p>但是发现 <code>natacpi</code> 只有 kernel 4.17 才开始支持，而当前我的 kernel 版本为</p>
<div class="highlight"><pre><span></span><code>$ uname -r
<span class="m">4</span>.15.0-112-generic
</code></pre></div>
<p>而且在 <a href="https://linrunner.de/tlp/faq/battery.html?highlight=natacpi#why-is-my-battery-charged-up-to-100-ignoring-the-charge-thresholds">Why is my battery charged up to 100% – ignoring the charge thresholds?</a> 的
<a href="https://linrunner.de/tlp/faq/battery.html?highlight=natacpi#thinkpad-t430-s-t530-w530-x230-and-all-later-models">ThinkPad T430(s)/T530/W530/X230 (and all later models)</a>
提到解决方案是</p>
<blockquote>
<p>Install a kernel ≥ 4.19 to make natacpi available</p>
</blockquote>
<p>网上搜了一圈，发现更新内核还是有风险的，比如可能造成某些接口无法使用，这让我想起之前 wifi 接口搞不定的噩梦。那就先这样吧。</p>
<p>而且发现其实 <a href="https://phoenixnap.com/kb/how-to-update-kernel-ubuntu">update &amp; dist-upgrade</a> 可能还是会更新内核版本，但是不会更到最新？</p>
<div class="admonition tip">
<p class="admonition-title">upgrade vs dist-upgrade vs full-upgrade</p>
<p>参考 <a href="https://askubuntu.com/questions/81585/what-is-dist-upgrade-and-why-does-it-upgrade-more-than-upgrade">What is “dist-upgrade” and why does it upgrade more than “upgrade”?</a>
<code>upgrade</code> 只更新已经安装包的版本，不会额外下载包或卸载包
<code>dist-upgrade</code> 会安装、卸载新包所依赖的包，而是更新内核版本也需要用它
<code>full-upgrade</code>：不太清楚，试着运行完 dist-upgrade 后，再运行它，但是没反应。
<div class="highlight"><pre><span></span><code>$ man apt-get
...
    upgrade
       upgrade is used to install the newest versions of all packages currently installed on the system from the sources enumerated <span class="k">in</span> /etc/apt/sources.list. Packages currently
       installed with new versions available are retrieved and upgraded<span class="p">;</span> under no circumstances are currently installed packages removed, or packages not already installed retrieved
       and installed. New versions of currently installed packages that cannot be upgraded without changing the install status of another package will be left at their current
       version. An update must be performed first so that apt-get knows that new versions of packages are available.

   dist-upgrade
       dist-upgrade <span class="k">in</span> addition to performing the <span class="k">function</span> of upgrade, also intelligently handles changing dependencies with new versions of packages<span class="p">;</span> apt-get has a <span class="s2">&quot;smart&quot;</span> conflict
       resolution system, and it will attempt to upgrade the most important packages at the expense of less important ones <span class="k">if</span> necessary. The dist-upgrade <span class="nb">command</span> may therefore
       remove some packages. The /etc/apt/sources.list file contains a list of locations from which to retrieve desired package files. See also apt_preferences<span class="o">(</span><span class="m">5</span><span class="o">)</span> <span class="k">for</span> a mechanism
       <span class="k">for</span> overriding the general settings <span class="k">for</span> individual packages.
</code></pre></div>
但是竟然没有看到 <code>full-upgrade</code>.</p>
</div>
<p>比如我发现 Ubuntu 18.04.5 LTS 实际上的内核版本应该是 5.0，甚至有 5.3，不过这似乎跟硬件有关，比如<a href="https://wiki.ubuntu.com/BionicBeaver/ReleaseNotes/ChangeSummary/18.04.5#Kernel_and_Hardware_support_updates">这里</a>列了 <code>linux-aws-5.0</code>, <code>linux-aws-5.0</code>，不过我也看到了 <code>linux-gke-4.15</code>，所以还是不要乱升级的好，不然硬件不兼容又要继续折腾了。</p>
<p>话说回来，电池最后实在不行，就换了呗，反正这个是外置可拆卸的。</p>
<h2 id="scp-a-file-with-name-including-colon">scp a file with name including colon<a class="headerlink" href="#scp-a-file-with-name-including-colon" title="Permanent link">&para;</a></h2>
<p>add <code>./</code> before the file, since it will interpret colon <code>x:</code> as [user@]host prefix</p>
<p>refer to <a href="https://stackoverflow.com/questions/14718720/how-can-i-scp-a-file-with-a-colon-in-the-file-name">How can I scp a file with a colon in the file name?</a></p>
<h2 id="add-virtual-memeory-via-swapfile">add virtual memeory via swapfile<a class="headerlink" href="#add-virtual-memeory-via-swapfile" title="Permanent link">&para;</a></h2>
<p>通过交换文件实现</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 创建大小为2G的文件swapfile</span>
dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/mnt/swapfile <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">2048</span>
<span class="c1"># 格式化</span>
mkswap /mnt/swapfile
<span class="c1"># 挂载</span>
swapon /mnt/swapfile
</code></pre></div>
<p>注意文件应为 <code>root:root</code>，否则会提示</p>
<blockquote>
<p>insecure file owner 1000, 0 (root) suggested.</p>
</blockquote>
<p>另见 <a href="https://unix.stackexchange.com/questions/297149/how-to-resolve-the-insecure-warning-in-swapon">How to Resolve the Insecure warning in Swapon?</a></p>
<p>为了保证开机自动加载，在 <code>/etc/fstab</code> 加入</p>
<div class="highlight"><pre><span></span><code>/mnt/swapfile swap swap defaults <span class="m">0</span> <span class="m">0</span>
</code></pre></div>
<p>具体每一列的含义可以通过 <code>man fstab</code> 查看。</p>
<p>挂载成功后就可以通过 <code>free -h</code> 查看内存情况。</p>
<p>参考 <a href="http://www.lining0806.com/linux%E4%B8%8B%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/">Linux下如何添加虚拟内存</a></p>
<p>这个方法也可以解决 &ldquo;virtual memory exhausted: Cannot allocate memory&rdquo; 的问题。</p>
<p>调整 swapiness，默认值为 60，</p>
<div class="highlight"><pre><span></span><code>$ cat /proc/sys/vm/swappiness
</code></pre></div>
<p>越高表示越积极使用 swap 空间。</p>
<p>临时性使用</p>
<div class="highlight"><pre><span></span><code>$ sudo sysctl vm.swappiness<span class="o">=</span><span class="m">80</span>
</code></pre></div>
<p>参考 <a href="http://blog.itpub.net/29371470/viewspace-1250975">linux系统swappiness参数在内存与交换分区间优化</a></p>
<h2 id="gpg-error">GPG error<a class="headerlink" href="#gpg-error" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$ sudo apt-get update
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ InRelease: The following signatures were invalid: EXPKEYSIG 51716619E084DAB9 Michael Rutter &lt;marutter@gmail.com&gt;
W: Failed to fetch https://cloud.r-project.org/bin/linux/ubuntu/bionic-cran35/InRelease  The following signatures were invalid: EXPKEYSIG 51716619E084DAB9 Michael Rutter &lt;marutter@gmail.com&gt;
W: Some index files failed to download. They have been ignored, or old ones used instead.
</code></pre></div>
<p>and got the expired key via</p>
<div class="highlight"><pre><span></span><code>$ apt-key list
pub   rsa2048 <span class="m">2010</span>-10-19 <span class="o">[</span>SCA<span class="o">]</span> <span class="o">[</span>expired: <span class="m">2020</span>-10-16<span class="o">]</span>
...
uid           <span class="o">[</span> expired<span class="o">]</span> Michael Rutter &lt;marutter@gmail.com&gt;
</code></pre></div>
<p>but it seems not work following <a href="https://linux-audit.com/how-to-solve-an-expired-key-keyexpired-with-apt/">How to solve an expired key (KEYEXPIRED) with apt</a></p>
<div class="highlight"><pre><span></span><code>$ apt-key adv --keyserver keys.gnupg.net --recv-keys 51716619E084DAB9
Executing: /tmp/apt-key-gpghome.CYSI3C6heK/gpg.1.sh --keyserver keys.gnupg.net --recv-keys 51716619E084DAB9
gpg: key 51716619E084DAB9: <span class="s2">&quot;Michael Rutter &lt;marutter@gmail.com&gt;&quot;</span> not changed
gpg: Total number processed: <span class="m">1</span>
gpg:              unchanged: <span class="m">1</span>
</code></pre></div>
<p>then I tried another keyserver mentioned in <a href="https://stackoverflow.com/questions/10255082/installing-r-from-cran-ubuntu-repository-no-public-key-error">Installing R from CRAN Ubuntu repository: No Public Key Error</a></p>
<div class="highlight"><pre><span></span><code>$ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9
<span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> weiya:
Executing: /tmp/apt-key-gpghome.xUS3ZEg8N2/gpg.1.sh --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9
gpg: key 51716619E084DAB9: <span class="s2">&quot;Michael Rutter &lt;marutter@gmail.com&gt;&quot;</span> <span class="m">2</span> new signatures
gpg: Total number processed: <span class="m">1</span>
gpg:         new signatures: <span class="m">2</span>
</code></pre></div>
<p>Now, new signatures come, and no expired again.</p>
<p>Another one,</p>
<div class="highlight"><pre><span></span><code>W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/xUbuntu_18.04 ./ InRelease: The following signatures were invalid: EXPKEYSIG DFA175A75104960E Emulators OBS Project &lt;Emulators@build.opensuse.org&gt;
W: Failed to fetch https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/xUbuntu_18.04/./InRelease  The following signatures were invalid: EXPKEYSIG DFA175A75104960E Emulators OBS Project &lt;Emulators@build.opensuse.org&gt;
W: Some index files failed to download. They have been ignored, or old ones used instead.
</code></pre></div>
<p>according to the record on <a href="software/#wechat-in-linux">WeChat in Linux</a>, it seems that this one is not important, and for simplest, I just untick this repository in the software setting.</p>
<h2 id="sftp-via-file-manager">sftp via File Manager<a class="headerlink" href="#sftp-via-file-manager" title="Permanent link">&para;</a></h2>
<p>在用 <code>connect to server</code> 时，经常弹出窗口要求输入用户名及密码，格式为 <code>sftp://xxx.xxx.xx.xx</code>，如果避免输入密码，不妨采用 <code>sftp://user@xxx.xxx.xx.xx</code>。不过有时在登录其它服务器时，不指定用户名还是直接登进去了，不太清楚为什么，猜想会不会是这几个服务器的用户名刚好跟本地相同。</p>
<h2 id="make-the-software-searchable">make the software searchable<a class="headerlink" href="#make-the-software-searchable" title="Permanent link">&para;</a></h2>
<p>If the software has <code>xx.destop</code> file, then</p>
<div class="highlight"><pre><span></span><code>cp xx.destop ~/.local/share/applications
</code></pre></div>
<p>otherwise， create a <code>.desktop</code> file. More details refer to <a href="https://askubuntu.com/questions/80013/how-to-pin-eclipse-to-the-unity-launcher">How to pin Eclipse to the Unity launcher?</a> and <a href="https://askubuntu.com/questions/285951/how-to-add-programs-to-the-launcher-search">How to add programs to the launcher (search)?</a></p>
<h2 id="set-printer-for-my-laptop">Set printer for my laptop<a class="headerlink" href="#set-printer-for-my-laptop" title="Permanent link">&para;</a></h2>
<ol>
<li>choose LPD/LPR Host or Printer</li>
<li>set host as hpm605dn1.sta.cuhk.edu.hk</li>
</ol>
<h2 id="md5">MD5<a class="headerlink" href="#md5" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>~$ <span class="nb">printf</span> <span class="s2">&quot;hello\n&quot;</span> <span class="p">|</span> md5sum
b1946ac92492d2347c6235b4d2611184  -
~$ <span class="nb">printf</span> <span class="s2">&quot;hello&quot;</span> <span class="p">|</span> md5sum
5d41402abc4b2a76b9719d911017c592  -
~$ <span class="nb">echo</span> -n <span class="s2">&quot;hello&quot;</span> <span class="p">|</span> md5sum
5d41402abc4b2a76b9719d911017c592  -
~$ <span class="nb">echo</span> <span class="s2">&quot;hello&quot;</span> <span class="p">|</span> md5sum
b1946ac92492d2347c6235b4d2611184  -
</code></pre></div>
<p>where <code>-n</code> does not output the trailing newline <code>\n</code>, but </p>
<div class="highlight"><pre><span></span><code>~$ <span class="nb">echo</span> -n <span class="s2">&quot;hello\n&quot;</span> <span class="p">|</span> md5sum
20e2ad363e7486d9351ee2ea407e3200  -
~$ <span class="nb">echo</span> -n <span class="s2">&quot;hello\n&quot;</span>
hello<span class="se">\n</span>~$
</code></pre></div>
<p>other materals releated to MD5</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/26592209">三分钟学习 MD5</a></li>
<li><a href="https://www.zhihu.com/question/22311285/answer/20960705">为什么现在网上有很多软件可以破解MD5，但MD5还是很流行？</a></li>
</ul>
<h2 id="you-have-new-mail">You have new mail<a class="headerlink" href="#you-have-new-mail" title="Permanent link">&para;</a></h2>
<p>Here is a message when I login in to the Office PC,</p>
<div class="highlight"><pre><span></span><code>You have new mail.
Last login: Thu May <span class="m">20</span> <span class="m">13</span>:29:14 <span class="m">2021</span> from <span class="m">127</span>.0.0.1
</code></pre></div>
<p>Refer to <a href="https://devanswers.co/you-have-mail-how-to-read-mail-in-ubuntu">“You have mail” – How to Read Mail in Linux Command Line</a>, the message is stored in the spool file, which is located at <code>/var/mail/$(whoami)</code>. The I found that this is a failed email when I wrote the mail notification script when there are new error message in <code>/var/log/apache2/error.log</code>.</p>
<h2 id="which-vs-type">which vs type<a class="headerlink" href="#which-vs-type" title="Permanent link">&para;</a></h2>
<p>在 CentOS7 服务器上，</p>
<div class="highlight"><pre><span></span><code>$ which -v
GNU which v2.20, Copyright <span class="o">(</span>C<span class="o">)</span> <span class="m">1999</span> - <span class="m">2008</span> Carlo Wood.
GNU which comes with ABSOLUTELY NO WARRANTY<span class="p">;</span>
This program is free software<span class="p">;</span> your freedom to use, change
and distribute this program is protected by the GPL.
</code></pre></div>
<p><code>which</code> 可以返回 alias 中的命令，而且更具体地，<code>man which</code> 显示可以通过选项 <code>--read-alias</code> 和 <code>--skip-alias</code> 来控制要不要包括 alias. </p>
<p>而在本地 Ubuntu 18.04 机器上，不支持 <code>-v</code> 或 <code>--version</code> 来查看版本，而且 <code>man which</code> 也很简单，从中可以看出其大致版本信息，<code>29 Jun 2016</code>。</p>
<p>那怎么显示 alias 呢，<a href="https://askubuntu.com/questions/102093/how-to-see-the-command-attached-to-a-bash-alias"><code>type</code> 可以解决这个问题</a>，注意查看其帮助文档需要用 <code>help</code> 而非 <code>man</code>。</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">type</span> scp_to_chpc 
scp_to_chpc is a <span class="k">function</span>
scp_to_chpc <span class="o">()</span> 
<span class="o">{</span> 
    scp -r <span class="nv">$1</span> user@host:~/<span class="nv">$2</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="systemd">systemd<a class="headerlink" href="#systemd" title="Permanent link">&para;</a></h2>
<p><a href="https://wiki.ubuntu.com/systemd">systemd</a> is a system and session manager for Linux, compatible with SysV and LSB init scripts. systemd </p>
<ul>
<li>provides aggressive parallelization capabilities, </li>
<li>uses scoket and D-Bus activation for starting services, </li>
<li>offers on-demand starting of daemons,</li>
<li>keeps track of processes using Linux cgroups</li>
<li>supports snapshotting and restoring of the system state</li>
<li>maintains mount and automount points</li>
<li>implements an elaborate transactional dependency-based service control logic.</li>
</ul>
<h3 id="control-systemd-once-booted">control systemd once booted<a class="headerlink" href="#control-systemd-once-booted" title="Permanent link">&para;</a></h3>
<p>The main command used to control systemd is <code>systemctl</code>. </p>
<ul>
<li><code>systemctl list-units</code>: list all units</li>
<li><code>systemctl start/stop [NAME]</code>: start/stop (activate/deactivate) one or more units</li>
<li><code>systemctl enable/disable [NAME]</code>: enable/disable one or more unit files</li>
<li><code>systemctl reboot</code>: shut down and reboot the system</li>
</ul>
<h2 id="custom-shortcut-to-switch-external-display-mode">Custom Shortcut to Switch External Display Mode<a class="headerlink" href="#custom-shortcut-to-switch-external-display-mode" title="Permanent link">&para;</a></h2>
<p>办公室电脑既可以作为显示屏，也可以在 PC 模式下使用 Windows 系统。在 PC 模式下，在 Ubuntu 上通过 synergy 共享键鼠，但是此时存在一个问题，因为 HDMI 仍然连着，所以在移动鼠标时中间有个 gap，也就是需要跳过外接显示屏才能移动到 PC。</p>
<p>试过在 synergy 中将 PC 机设置为 T460p 上方，这样移动鼠标只需往上，不过体验不是很好，而且 Ubuntu 顶端有状态栏而 PC 端底部也有task bar，移动时能明显感受到延时。另外一个策略便是切换显示屏 mode，由 joint 模式切换成 mirror。</p>
<p>注意到，当处于 mirror 模式下，eDP-1-1 primary 显示为 <code>1920x1080+0+0</code>，而如果是 joint mode，尺寸为 <code>1920x1080+1920+0</code>。受 <a href="https://askubuntu.com/questions/958914/swap-between-monitor-display-modes-using-shortcut">Swap between monitor display modes using shortcut</a>
 启发，决定写脚本自定义快捷键</p>
<div class="highlight"><pre><span></span><code>~$ cat switch_mirror_joint.sh 
<span class="c1">#!/bin/bash</span>
<span class="nv">currentmode</span><span class="o">=</span><span class="k">$(</span>xrandr -q <span class="p">|</span> grep <span class="s2">&quot;primary 1920x1080+0+0&quot;</span><span class="k">)</span>
<span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$currentmode</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c1">#echo &quot;mirror&quot;</span>
    xrandr --output HDMI-1-1 --left-of eDP-1-1
<span class="k">else</span>
    <span class="c1">#echo &quot;joint&quot;</span>
    xrandr --output HDMI-1-1 --same-as eDP-1-1
<span class="k">fi</span>
</code></pre></div>
<p>然后进入 keyboard shortcut 设置界面，</p>
<ul>
<li>Name: <code>switch display mode</code></li>
<li>Command: <code>/home/weiya/switch_mirror_joint.sh</code></li>
<li>Shortcut: <code>Ctrl+F7</code></li>
</ul>
<p>之所以选择 <code>F7</code> 是因为本身 F7 也支持切换 display mode，但是默认 external monitor 在右侧。试图直接更改 F7 的 binding commands，相关的 Ubuntu 官方帮助文档 <a href="https://help.ubuntu.com/stable/ubuntu-help/keyboard.html.en">Keyboard</a> 及配置文件 <a href="https://help.ubuntu.com/community/Custom%20keyboard%20layout%20definitions">Custom keyboard layout definitions</a>，但是无从下手。</p>
<h2 id="system-monitor_1">System Monitor<a class="headerlink" href="#system-monitor_1" title="Permanent link">&para;</a></h2>
<p>I am currently using the <a href="#system-monitor">gnome-shell extension</a> and <a href="https://github.com/netdata/netdata">Netdata: Web-based Real-time performance monitoring</a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Other candidates:</p>
<ul>
<li><code>glances</code>: refer to <a href="https://askubuntu.com/questions/293426/what-system-monitoring-tools-are-available">What system monitoring tools are available?</a></li>
</ul>
</div>
<ul>
<li><code>ram_available</code>: percentage of estimated amount of RAM available for userspace processes, without causing swapping <ul>
<li>swap vs ram: see <a href="https://zhuanlan.zhihu.com/p/201384108">深入理解swap交换分区理解及扩存 &ndash; 知乎</a></li>
<li>check with <code>free -m</code></li>
</ul>
</li>
<li><code>ram_in_use</code>: system memory utilization</li>
<li><code>30min_ram_swapped_out</code>: percentage of the system RAM swapped in the last 30 minutes  (???)</li>
<li><code>system.load</code>: 系统负载平均值（system load averages），它将正在运行的线程（任务）对系统的需求显示为平均运行数和等待线程数。Linux load averages 可以衡量任务对系统的需求，并且它可能大于系统当前正在处理的数量，大多数工具将其显示为三个平均值，分别为 1、5 和 15 分钟值（参考 <a href="https://zhuanlan.zhihu.com/p/75975041">Linux Load Averages：什么是平均负载？ - 知乎</a>）。<ul>
<li><code>load_average_1</code>: system one-minute load average </li>
<li><code>load_average_5</code>: system five-minute load average </li>
<li><code>load_average_15</code>: system fifteen-minute load average</li>
<li>如果平均值为 0.0，意味着系统处于空闲状态</li>
<li>如果 1min 平均值高于 5min 或 15min 平均值，则负载正在增加</li>
<li>如果 1min 平均值低于 5min 或 15min 平均值，则负载正在减少</li>
<li>如果它们高于系统 CPU 的数量，那么系统很可能会遇到性能问题</li>
</ul>
</li>
<li><code>python.d_job_last_collected_secs</code>: number of seconds since the last successful data collection </li>
<li><code>system.swap</code><ul>
<li><code>used_swap</code>: swap memory utilization</li>
</ul>
</li>
<li><code>system.cpu</code><ul>
<li><code>10min_cpu_usage</code>: average CPU utilization over the last 10 minutes (excluding iowait, nice and steal) </li>
<li><code>10min_cpu_iowait</code>: average CPU iowait time over the last 10 minutes </li>
</ul>
</li>
<li><code>ipv4.udperrors</code><ul>
<li><code>1m_ipv4_udp_receive_buffer_errors</code>： average number of UDP receive buffer errors over the last minute </li>
</ul>
</li>
<li><code>disk_space_usage</code>: disk / space utilization</li>
<li><code>linux_power_supply_capacity</code>: percentage of remaining power supply capacity</li>
<li><code>10s_ipv4_tcp_resets_received</code>: average number of received TCP RESETS over the last 10 seconds. This can be an indication that a service this host needs has crashed. Netdata will not send a clear notification for this alarm.</li>
<li><code>net.enp2s0</code><ul>
<li><code>1m_received_traffic_overflow</code>: average inbound utilization for the network interface enp2s0 over the last minute: check if there are attempts to attack the server via <code>/var/log/secure</code>, refer to <a href="https://www.linuxprobe.com/centos-linux-logs.html">详解CentOS通过日志反查入侵</a></li>
</ul>
</li>
</ul>
<h2 id="use-old-kernel-version">use old kernel version<a class="headerlink" href="#use-old-kernel-version" title="Permanent link">&para;</a></h2>
<p>最近几天，T460P 经常自动重启，而且往往重启前花屏，甚至今天带着电脑去找老板，也重启了两次。在 <code>/var/crash</code> 目录下能发现 crash 报告，但是并不知道怎么使用</p>
<div class="highlight"><pre><span></span><code>drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">22</span> <span class="m">20</span>:10 <span class="m">202107222000</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">23</span> <span class="m">05</span>:40 <span class="m">202107230539</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">23</span> <span class="m">08</span>:54 <span class="m">202107230854</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">24</span> <span class="m">14</span>:23 <span class="m">202107241422</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">26</span> <span class="m">09</span>:03 <span class="m">202107260517</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">27</span> <span class="m">09</span>:26 <span class="m">202107270926</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">27</span> <span class="m">23</span>:09 <span class="m">202107272308</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">28</span> <span class="m">09</span>:41 <span class="m">202107280940</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">28</span> <span class="m">09</span>:44 <span class="m">202107280944</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">28</span> <span class="m">10</span>:14 <span class="m">202107281014</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">28</span> <span class="m">11</span>:05 <span class="m">202107281105</span>/
drwxr-sr-x  <span class="m">2</span> root     whoopsie     <span class="m">4096</span> Jul <span class="m">28</span> <span class="m">11</span>:48 <span class="m">202107281148</span>/
-rw-r--r--  <span class="m">1</span> kernoops whoopsie     <span class="m">2249</span> Jul <span class="m">24</span> <span class="m">14</span>:40 linux-image-4.15.0-151-generic.183202.crash
-rw-r-----  <span class="m">1</span> root     whoopsie    <span class="m">34940</span> Jul <span class="m">22</span> <span class="m">20</span>:01 linux-image-4.15.0-151-generic-202107222000.crash
-rw-r-----  <span class="m">1</span> root     whoopsie    <span class="m">29062</span> Jul <span class="m">23</span> <span class="m">08</span>:55 linux-image-4.15.0-151-generic-202107230854.crash
-rw-r-----  <span class="m">1</span> root     whoopsie    <span class="m">34532</span> Jul <span class="m">24</span> <span class="m">14</span>:23 linux-image-4.15.0-151-generic-202107241422.crash
-rw-r-----  <span class="m">1</span> root     whoopsie    <span class="m">35752</span> Jul <span class="m">26</span> <span class="m">08</span>:56 linux-image-4.15.0-151-generic-202107260517.crash
-rw-r--r--  <span class="m">1</span> kernoops whoopsie      <span class="m">746</span> Jul <span class="m">28</span> <span class="m">09</span>:40 linux-image-4.15.0-151-generic.30586.crash
-rw-r--r--  <span class="m">1</span> kernoops whoopsie      <span class="m">752</span> Jul <span class="m">28</span> <span class="m">09</span>:40 linux-image-4.15.0-151-generic.30735.crash
</code></pre></div>
<p>其中每个文件夹中有</p>
<div class="highlight"><pre><span></span><code>$ ll <span class="m">202107281148</span>
total <span class="m">109160</span>
-rw-------  <span class="m">1</span> root whoopsie     <span class="m">78507</span> Jul <span class="m">28</span> <span class="m">11</span>:48 dmesg.202107281148
-rw-------  <span class="m">1</span> root whoopsie <span class="m">111683440</span> Jul <span class="m">28</span> <span class="m">11</span>:48 dump.202107281148
</code></pre></div>
<p>联想下最近的操作，很有可能是通过 <code>apt upgrade</code> 更新了次内核，查看具体细节</p>
<div class="highlight"><pre><span></span><code>$ vi /var/log/apt/history.log
Start-Date: <span class="m">2021</span>-07-21  <span class="m">20</span>:46:59
Commandline: aptdaemon <span class="nv">role</span><span class="o">=</span><span class="s1">&#39;role-commit-packages&#39;</span> <span class="nv">sender</span><span class="o">=</span><span class="s1">&#39;:1.1117&#39;</span>
Install: linux-headers-4.15.0-151-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0-151.157, automatic<span class="o">)</span>, linux-modules-4.15.0-151-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0-151.157, automatic<span class="o">)</span>, linux-image-4.15.0-151-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0-151.157, automatic<span class="o">)</span>, linux-modules-extra-4.15.0-151-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0-151.157, automatic<span class="o">)</span>, linux-headers-4.15.0-151:amd64 <span class="o">(</span><span class="m">4</span>.15.0-151.157, automatic<span class="o">)</span>
Upgrade: libnvidia-gl-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-gl-460-server:i386 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, linux-headers-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0.147.134, <span class="m">4</span>.15.0.151.139<span class="o">)</span>, linux-libc-dev:amd64 <span class="o">(</span><span class="m">4</span>.15.0-147.151, <span class="m">4</span>.15.0-151.157<span class="o">)</span>, linux-crashdump:amd64 <span class="o">(</span><span class="m">4</span>.15.0.147.134, <span class="m">4</span>.15.0.151.139<span class="o">)</span>, libsystemd0:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, libsystemd0:i386 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, linux-image-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0.147.134, <span class="m">4</span>.15.0.151.139<span class="o">)</span>, nvidia-driver-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, containerd:amd64 <span class="o">(</span><span class="m">1</span>.5.2-0ubuntu1~18.04.1, <span class="m">1</span>.5.2-0ubuntu1~18.04.2<span class="o">)</span>, nvidia-kernel-source-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-fbc1-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-fbc1-460-server:i386 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, nvidia-dkms-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, google-chrome-stable:amd64 <span class="o">(</span><span class="m">91</span>.0.4472.164-1, <span class="m">92</span>.0.4515.107-1<span class="o">)</span>, nvidia-utils-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-decode-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-decode-460-server:i386 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, udev:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, nvidia-kernel-common-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, typora:amd64 <span class="o">(</span><span class="m">0</span>.10.11-1, <span class="m">0</span>.11.0-1<span class="o">)</span>, xserver-xorg-video-nvidia-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-encode-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-encode-460-server:i386 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, nvidia-compute-utils-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, initramfs-tools-bin:amd64 <span class="o">(</span><span class="m">0</span>.130ubuntu3.12, <span class="m">0</span>.130ubuntu3.13<span class="o">)</span>, linux-signed-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0.147.134, <span class="m">4</span>.15.0.151.139<span class="o">)</span>, libudev1:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, libudev1:i386 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, libnvidia-ifr1-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-ifr1-460-server:i386 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-common-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnss-myhostname:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, libnvidia-cfg1-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, systemd-sysv:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, libpam-systemd:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, systemd:amd64 <span class="o">(</span><span class="m">237</span>-3ubuntu10.48, <span class="m">237</span>-3ubuntu10.49<span class="o">)</span>, libnvidia-extra-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, linux-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0.147.134, <span class="m">4</span>.15.0.151.139<span class="o">)</span>, initramfs-tools-core:amd64 <span class="o">(</span><span class="m">0</span>.130ubuntu3.12, <span class="m">0</span>.130ubuntu3.13<span class="o">)</span>, initramfs-tools:amd64 <span class="o">(</span><span class="m">0</span>.130ubuntu3.12, <span class="m">0</span>.130ubuntu3.13<span class="o">)</span>, libnvidia-compute-460-server:amd64 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>, libnvidia-compute-460-server:i386 <span class="o">(</span><span class="m">460</span>.73.01-0ubuntu0.18.04.1, <span class="m">460</span>.91.03-0ubuntu0.18.04.1<span class="o">)</span>
End-Date: <span class="m">2021</span>-07-21  <span class="m">20</span>:51:53

Start-Date: <span class="m">2021</span>-07-22  <span class="m">06</span>:31:33
Commandline: /usr/bin/unattended-upgrade
Remove: linux-headers-4.15.0-144:amd64 <span class="o">(</span><span class="m">4</span>.15.0-144.148<span class="o">)</span>, linux-headers-4.15.0-144-generic:amd64 <span class="o">(</span><span class="m">4</span>.15.0-144.148<span class="o">)</span>
End-Date: <span class="m">2021</span>-07-22  <span class="m">06</span>:31:36
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>对于 <code>.gz</code> 的日志文件，可以使用 <code>zcat</code> 直接查看。
另外注意，<code>file.gz</code> 解压时默认不会保存原始文件，或者指定 <code>gunzip -k</code> 选项，或者
<div class="highlight"><pre><span></span><code>gunzip &lt; file.gz &gt; file
</code></pre></div>
详见 <a href="https://unix.stackexchange.com/questions/156261/unzipping-a-gz-file-without-removing-the-gzipped-file">Unzipping a .gz file without removing the gzipped file</a></p>
</div>
<p>发现其更新时间恰恰在诸多 crash 的前一天。所以试图切换到老的内核版本。</p>
<p>注意到在启动时，第二个选项是 <code>Advanced options for Ubuntu</code>，点进去有若干个内核，我的是</p>
<div class="highlight"><pre><span></span><code><span class="m">4</span>.15.0-151
<span class="m">4</span>.15.0-151 <span class="o">(</span>recovery mode<span class="o">)</span>
<span class="m">4</span>.15.0-147
<span class="m">4</span>.15.0-147 <span class="o">(</span>recovery mode<span class="o">)</span>
</code></pre></div>
<p>选择 <code>4.15.0-147</code>，进去之后发现扩展屏幕无法识别，另外 Nvidia 也没有识别。于是试着重装 nvidia driver，这次选择的是 <code>nvidia-driver-460-server</code>，这也是<a href="https://github.com/szcf-weiya/techNotes/issues/11#issuecomment-885333581">此前使用的版本</a>。</p>
<p>然后重启。</p>
<p>重启时注意还是要选择 <code>4.15.0-147</code>，不如默认进的还是 <code>151</code>。</p>
<p>中间误入了一次 <code>151</code>，结果还没登录就自动重启了，然后乖乖选择 <code>147</code>，但是这次还是没能识别 HDMI，不过 nvidia-smi 以及 nvidia-settings 都正常，<code>xrandr</code> 输出也是没有识别出显示屏。</p>
<p>试着继续重启，这次竟然可以了！</p>
<p>后面在 nvidia-settings 中试了将 <code>PRIME profiles</code> 由 <code>NVIDIA (performance mode)</code> 改成 <code>NVIDIA on-demand</code>,然后重启，结果竟然进不去系统了，每次输入密码回车都要求重新输入密码。</p>
<p>原因很可能是 PRIME 的这一改动，于是进入 tty 模式，通过命令行改回来</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 查询当前选择</span>
$ prime-select query
<span class="c1"># 切换至 nvidia</span>
$ prime-select nvidia
<span class="c1"># 切换至 intel</span>
$ prime-select intel
</code></pre></div>
<p>然后重启终于恢复正常。</p>
<p>注意现在每次重启都需要选择内核版本，一个自然想法是修改默认内核。参考 <a href="https://support.huaweicloud.com/intl/en-us/trouble-ecs/ecs_trouble_0327.html">How Do I Change the Default Boot Kernel in Ubuntu?</a></p>
<p>将 <code>/etc/default/grub</code> 中 <code>GRUB_DEFAULT</code> 修改至 <code>1&gt;2</code>，其中</p>
<ul>
<li><code>1</code> 代表 <code>Advanced options for Ubuntu</code> 的顺序，因其在第二位，顺序从 0 算起，默认值就是 0</li>
<li><code>&gt;2</code> 代表在子目录下位于第 2 位（顺序从 0 算起，即第三个）</li>
</ul>
<p>重启之前需要运行</p>
<div class="highlight"><pre><span></span><code>$ sudo update-grub
</code></pre></div>
<p>重启之后可以看到自动选择了 <code>1&gt;2</code>。 </p>
<h2 id="_9">默认软件<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>网页文件 <code>.html</code> 默认用百度网盘打开，之前通过 <code>KDE System Setting</code> 修改了默认软件，</p>
<p><img alt="" src="https://user-images.githubusercontent.com/13688320/117541554-fb955800-b046-11eb-8577-f39fdbf406bc.png" /></p>
<p>但似乎并没有解决问题。</p>
<p>试着参考 <a href="https://help.ubuntu.com/stable/ubuntu-help/files-open.html.en">Open files with other applications</a> 的步骤进行设置</p>
<ul>
<li>右键选择 <code>Properties</code></li>
<li>然后选择 <code>Open With</code></li>
<li>选择特定软件，<code>Set as default</code></li>
</ul>
<h3 id="kernel">禁止 kernel 更新<a class="headerlink" href="#kernel" title="Permanent link">&para;</a></h3>
<p>今天竟然又重启了，有点无法理解。第一次怀疑是温度过高，因为 <code>syslog</code> 中重启前的一条记录信息为</p>
<div class="highlight"><pre><span></span><code>Device: /dev/sdc <span class="o">[</span>SAT<span class="o">]</span>, SMART Usage Attribute: <span class="m">194</span> Temperature_Celsius changed from <span class="m">60</span> to <span class="m">61</span>
</code></pre></div>
<p>然后第二次竟然发现 crash 报告竟然是 <code>151</code>，明明应该选择了第二个 147 呀。</p>
<div class="highlight"><pre><span></span><code>$ ls /var/crash
linux-image-4.15.0-151-generic-202108070025.crash
linux-image-4.15.0-151-generic-202108071819.crash
</code></pre></div>
<p>重启时才发现竟然多了个 kernel 153！！于是第二个变成了 151，第三个才是 147。</p>
<p>虽然将启动选择再改成第三个应该也是可以的，但是万一以后又多了一个呢，顺序岂不又变了，所以更好的方法便是禁止 kernel 更新。另外将最新的 151 删掉。</p>
<ul>
<li>删掉 kernel</li>
</ul>
<p>查看安装 kernel 的完整名称，</p>
<div class="highlight"><pre><span></span><code>$ dpkg -l <span class="p">|</span> grep linux-image <span class="p">|</span> grep <span class="s2">&quot;^ii&quot;</span>
</code></pre></div>
<p>然后进行删除</p>
<div class="highlight"><pre><span></span><code>$ sudo apt purge linux-image-4.15.0-153-generic
</code></pre></div>
<p>再次重启就会发现第一项 153 消失了。</p>
<p>refer to <a href="https://www.cyberciti.biz/faq/ubuntu-18-04-remove-all-unused-old-kernels/">Ubuntu 18.04 remove all unused old kernels</a></p>
<ul>
<li>禁止 kernel 更新</li>
</ul>
<p>参考 <a href="https://askubuntu.com/questions/938494/how-to-i-prevent-ubuntu-from-kernel-version-upgrade-and-notification">How to I prevent Ubuntu from kernel version upgrade and notification?</a></p>
<div class="highlight"><pre><span></span><code>sudo apt-mark hold <span class="m">4</span>.15.0-147-generic
</code></pre></div>
<h2 id="get-history-of-other-ttypts">Get history of other tty/pts?<a class="headerlink" href="#get-history-of-other-ttypts" title="Permanent link">&para;</a></h2>
<p>seems not.</p>
<p>see also <a href="https://stackoverflow.com/questions/51074474/how-to-get-complete-history-from-different-tty-or-pts">How to get complete history from different tty or pts - Stack Overflow</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="software/" class="md-footer__link md-footer__link--next" aria-label="Next: Application Software" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Application Software
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2021 weiya
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/szcf-weiya" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://esl.hohoweiya.xyz" target="_blank" rel="noopener" title="esl.hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hohoweiya.xyz" target="_blank" rel="noopener" title="hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26 96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47 488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://stats.hohoweiya.xyz" target="_blank" rel="noopener" title="stats.hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48 392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480 8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0 12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12 12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://blog.csdn.net/szcf715" target="_blank" rel="noopener" title="blog.csdn.net" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z"/></svg>
      </a>
    
      
      
      <a href="mailto:szcfweiya@gmail.com" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.febc23d1.min.js"></script>
      
        <script src="../javascripts/baiduzhanzhang.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>